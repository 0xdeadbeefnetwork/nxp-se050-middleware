<!DOCTYPE html>
<!--
Copyright 2019 NXP
-->

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>6.7. API &#8212; Plug &amp; Trust MW v04.07.01 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="6.8. EdgeLock 2GO Agent Examples" href="readme_usage_examples.html" />
    <link rel="prev" title="6.1. Introduction" href="introduction.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../toc.html"><span><img src="../../_static/NXP_logo_JPG.jpg"></span>
          MW</a>
        <span class="navbar-text navbar-version pull-left"><b>v04.07.01</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../toc.html">TOC <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">1. NXP Plug &amp; Trust Middleware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../organization-of-documentation.html">1.1. Organization of Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../folder-structure.html">1.2. Folder Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sw-prerequisites.html">1.3. List of Platform Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">2. Changes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changes/pending.html">2.1. Pending Refactoring items</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/pending.html#known-limitations">2.2. Known limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_07_01.html">2.3. Release <code class="docutils literal notranslate"><span class="pre">v04.07.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_07_00.html">2.4. Release <code class="docutils literal notranslate"><span class="pre">v04.07.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_06_00.html">2.5. Release <code class="docutils literal notranslate"><span class="pre">v04.06.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_05_03.html">2.6. Release <code class="docutils literal notranslate"><span class="pre">v04.05.03</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_05_02.html">2.7. Release <code class="docutils literal notranslate"><span class="pre">v04.05.02</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_05_01.html">2.8. Release <code class="docutils literal notranslate"><span class="pre">v04.05.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_05_00.html">2.9. Release <code class="docutils literal notranslate"><span class="pre">v04.05.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_04_02.html">2.10. Release <code class="docutils literal notranslate"><span class="pre">v04.04.02</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_04_01.html">2.11. Release <code class="docutils literal notranslate"><span class="pre">v04.04.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_03_03.html">2.12. Release <code class="docutils literal notranslate"><span class="pre">v04.03.03</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_03_02.html">2.13. Release <code class="docutils literal notranslate"><span class="pre">v04.03.02</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_03_01.html">2.14. Release <code class="docutils literal notranslate"><span class="pre">v04.03.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_03_00.html">2.15. Release <code class="docutils literal notranslate"><span class="pre">v04.03.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_02_00.html">2.16. Release <code class="docutils literal notranslate"><span class="pre">v04.02.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_01_03.html">2.17. Release <code class="docutils literal notranslate"><span class="pre">v04.01.03</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_01_01.html">2.18. Release <code class="docutils literal notranslate"><span class="pre">v04.01.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_01_00.html">2.19. Release <code class="docutils literal notranslate"><span class="pre">v04.01.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_00_01.html">2.20. Release <code class="docutils literal notranslate"><span class="pre">v04.00.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v04_00_00.html">2.21. Release <code class="docutils literal notranslate"><span class="pre">v04.00.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v03_03_00.html">2.22. Release <code class="docutils literal notranslate"><span class="pre">v03.03.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v03_01_01.html">2.23. Release <code class="docutils literal notranslate"><span class="pre">v03.01.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v03_01_00.html">2.24. Release <code class="docutils literal notranslate"><span class="pre">v03.01.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v03_00_06.html">2.25. Release <code class="docutils literal notranslate"><span class="pre">v03.00.06</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v03_00_05.html">2.26. Release <code class="docutils literal notranslate"><span class="pre">v03.00.05</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v03_00_04.html">2.27. Release <code class="docutils literal notranslate"><span class="pre">v03.00.04</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v03_00_03.html">2.28. Release <code class="docutils literal notranslate"><span class="pre">v03.00.03</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v03_00_02.html">2.29. Release <code class="docutils literal notranslate"><span class="pre">v03.00.02</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_16_01.html">2.30. Release <code class="docutils literal notranslate"><span class="pre">v02.16.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_16_00.html">2.31. Release <code class="docutils literal notranslate"><span class="pre">v02.16.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_15_00.html">2.32. Release <code class="docutils literal notranslate"><span class="pre">v02.15.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_14_00.html">2.33. Release <code class="docutils literal notranslate"><span class="pre">v02.14.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_12_00.html">2.34. Release <code class="docutils literal notranslate"><span class="pre">v02.12.05</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_12_00.html#release-v02-12-04">2.35. Release <code class="docutils literal notranslate"><span class="pre">v02.12.04</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_12_00.html#release-v02-12-03">2.36. Release <code class="docutils literal notranslate"><span class="pre">v02.12.03</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_12_00.html#release-v02-12-02">2.37. Release <code class="docutils literal notranslate"><span class="pre">v02.12.02</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_12_00.html#release-v02-12-01">2.38. Release <code class="docutils literal notranslate"><span class="pre">v02.12.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_12_00.html#release-v02-12-00">2.39. Release <code class="docutils literal notranslate"><span class="pre">v02.12.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_11_03.html">2.40. Release <code class="docutils literal notranslate"><span class="pre">v02.11.03</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_11_01.html">2.41. Internal Release <code class="docutils literal notranslate"><span class="pre">v02.11.01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_11_00.html">2.42. Release <code class="docutils literal notranslate"><span class="pre">v02.11.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_10_00.html">2.43. Release <code class="docutils literal notranslate"><span class="pre">v02.10.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_09_00.html">2.44. Release <code class="docutils literal notranslate"><span class="pre">v02.09.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_07_00.html">2.45. Release <code class="docutils literal notranslate"><span class="pre">v02.07.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_06_00.html">2.46. Release <code class="docutils literal notranslate"><span class="pre">v02.06.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_05_00_to_v02_03_00.html">2.47. Release <code class="docutils literal notranslate"><span class="pre">v02.05.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_05_00_to_v02_03_00.html#release-v02-04-00">2.48. Release <code class="docutils literal notranslate"><span class="pre">v02.04.00</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/v02_05_00_to_v02_03_00.html#release-02-03-00">2.49. Release <code class="docutils literal notranslate"><span class="pre">02.03.00</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stack/index.html">3. Plug &amp; Trust MW Stack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stack/features.html">3.1. Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/features.html#plug-trust-mw-block-diagram">3.2. Plug &amp; Trust MW : Block Diagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sss-apis.html">3.3. SSS APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/se05xfeatures.html">3.4. SSS APIs: SE051 vs SE050</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/param_checks.html">3.5. Parameter Check &amp; Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/i2cm.html">3.6. I2CM / Secure Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/logging.html">3.7. Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/feature-file.html">3.8. Feature File - <code class="docutils literal notranslate"><span class="pre">fsl_sss_ftr.h</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/scp03/index.html">3.9. Platform SCP03 Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/auth/auth-objects.html">3.10. Auth Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/auth/auth-objects-userid.html">3.11. Auth Objects : UserID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/auth/auth-objects-aeskey.html">3.12. Auth Objects : AESKey</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/auth/auth-objects-eckey.html">3.13. Auth Objects : ECKey</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/key-id-range.html">3.14. Key Id Range and Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/key-id-range.html#authentication-keys">3.15. Authentication Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/key-id-range.html#trust-provisioned-keyids">3.16. Trust provisioned KeyIDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sss/ex/doc/puf-scp03.html">3.17. SCP03 with PUF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sss/doc/sss_heap_management.html">3.18. SSS Heap Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stack/secure_boot.html">3.19. Secure Boot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../building/index.html">4. Building / Compiling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../building/windows.html">4.1. Windows Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building/frdm-k64f-sdk.html">4.2. Import MCUXPresso projects from SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building/frdm-k64f-cmake.html">4.3. Freedom K64F (and Other MCUs) Build (CMake - Advanced)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building/imx6.html">4.4. i.MX Linux Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building/rpi3.html">4.5. Raspberry Pi Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building/cmake.html">4.6. CMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/cmake_options.html">4.7. CMake Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../demos/index.html">5. Demo and Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#demo-list">5.1. Demo List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#sss-api-examples">5.2. SSS API Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#cloud-demos">5.3. Cloud Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#linux-specific-demos">5.4. Linux Specific Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#opc-ua-example">5.5. OPC-UA Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#arm-psa-example">5.6. ARM PSA Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#se05x-examples">5.7. SE05X Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#openssl-examples">5.8. OpenSSL Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#tests-for-user-crypto">5.9. Tests for User Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#nxpnfcrdlib-examples">5.10. NXPNFCRDLIB examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#ease-of-use-examples">5.11. Ease-of-Use examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#semslite-examples">5.12. Semslite examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html#puf-examples">5.13. PUF examples</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../edgelock2go-agent.html">6. NXP EdgeLock 2GO Agent</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">6.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#building-and-running-the-edgelock-2go-agent">6.2. Building and running the EdgeLock 2GO agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#datastore-keystore">6.3. Datastore / Keystore</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#connection-to-the-edgelock-2go-cloud-service">6.4. Connection to the EdgeLock 2GO cloud service</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#claim-codes">6.5. Claim Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#offline-provisioning-of-secure-objects">6.6. Offline Provisioning of Secure Objects</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.7. API</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme_usage_examples.html">6.8. EdgeLock 2GO Agent Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../semslite/doc/index.html">7. SEMS Lite Agent</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../semslite/doc/sems_lite_overview.html">7.1. SEMS Lite Overview (Only for SE051)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../semslite/doc/sems_lite_package.html">7.2. Update Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../semslite/doc/sems_lite_usage.html">7.3. SEMS Lite Agent Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../semslite/doc/sems_lite_mgmt_api.html">7.4. SEMS Lite management APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../semslite/doc/sems_lite_process.html">7.5. SEMS Lite Agent Package Load Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../semslite/doc/sems_lite_api.html">7.6. SEMSLite Types and APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../semslite/doc/sems_lite_known_issue.html">7.7. SEMS Lite Known Issue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../semslite/doc/demo_update.html">7.8. SEMS Lite DEMOs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/index.html">8. Plugins / Add-ins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sss/plugin/openssl/scripts/readme.html">8.1. Introduction on OpenSSL engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sss/plugin/openssl_provider/scripts/readme.html">8.2. Introduction on OpenSSL provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sss/plugin/mbedtls/scripts/readme.html">8.3. Introduction on MbedTLS ALT (2.x) Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sss/plugin/mbedtls3x/scripts/readme.html">8.4. Introduction on Mbed TLS (3.x) ALT Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sss/plugin/psa/Readme.html">8.5. Platform Security Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/akm.html">8.6. Android Key master</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sss/plugin/open62541/readme.html">8.7. Introduction on Open62541 (OPC UA stack)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/wifiEAP/wifiEAP.html">8.8. WiFi EAP Demo with Raspberry Pi3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/pkcs11.html">8.9. PKCS#11 Standalone Library</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cli-tool.html">9. CLI Tool</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pycli/doc/introduction.html">9.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pycli/doc/block-diagram.html">9.2. Block Diagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pycli/doc/pre-steps.html">9.3. Steps needed before running <code class="docutils literal notranslate"><span class="pre">ssscli</span></code> tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pycli/doc/running.html">9.4. Running the <code class="docutils literal notranslate"><span class="pre">ssscli</span></code> tool - Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pycli/Provisioning/readme.html">9.5. CLI Provisioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pycli/doc/readme_usage_examples.html">9.6. Usage Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pycli/doc/cli_commands_list.html">9.7. List of <code class="docutils literal notranslate"><span class="pre">ssscli</span></code> commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pycli/doc/cli_data_format.html">9.8. CLI Data formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pycli/doc/cli_object_policy.html">9.9. Object Policies Through ssscli</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/upload_se05x_using_pycli.html">9.10. Upload keys and certificates to SE05X using ssscli tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix.html">10. Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/glossary.html">10.1. Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hostlib/hostLib/vcom/doc/vcom.html">10.2. VCOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/vcom.html">10.3. APDU Commands over VCOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/vs2019-setup.html">10.4. Visual Studio 2019 Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/ide_mcux.html">10.5. Setting up MCUXPresso IDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dev-platforms.html">10.6. Development Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/se_uid.html">10.7. How to get SE Platform Information and UID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/version_info.html">10.8. Version Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/Certificate_Chains/Readme.html">10.9. Certificate Chains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/rjct_server.html">10.10. JRCP_v1 Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/platfscp.html">10.11. Using own Platform SCP03 Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/apdu_write_to_buffer.html">10.12. Write APDU to buffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/api_list.html">10.13. Plug &amp; Trust MW APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/se052_notes.html">10.14. SE052 specific notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Note.html">11. Note about the source code in the document</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Revision_history.html">12. Revision history</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">6.7. API</a><ul>
<li><a class="reference internal" href="#edgelock-2go-main">6.7.1. EdgeLock 2GO Main</a></li>
<li><a class="reference internal" href="#edgelock-2go-datastore">6.7.2. EdgeLock 2GO Datastore</a></li>
<li><a class="reference internal" href="#edgelock-2go-keystore">6.7.3. EdgeLock 2GO Keystore</a></li>
<li><a class="reference internal" href="#edgelock-2go-session">6.7.4. EdgeLock 2GO Session</a></li>
<li><a class="reference internal" href="#edgelock-2go-service">6.7.5. EdgeLock 2GO Service</a></li>
<li><a class="reference internal" href="#edgelock-2go-dispatcher">6.7.6. EdgeLock 2GO Dispatcher</a></li>
<li><a class="reference internal" href="#edgelock-2go-utils">6.7.7. EdgeLock 2GO Utils</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="introduction.html" title="Previous Chapter: 6.1. Introduction"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 6.1. Introduction</span>
    </a>
  </li>
  <li>
    <a href="readme_usage_examples.html" title="Next Chapter: 6.8. EdgeLock 2GO Agent Examples"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">6.8. EdgeLock... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">

<div class="sidebar-header">
    <h3>Plug &amp; Trust MW</h3>
</div>

<div class="row">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">1. NXP Plug &amp; Trust Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">2. Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stack/index.html">3. Plug &amp; Trust MW Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../building/index.html">4. Building / Compiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demos/index.html">5. Demo and Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../edgelock2go-agent.html">6. NXP EdgeLock 2GO Agent</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">6.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#building-and-running-the-edgelock-2go-agent">6.2. Building and running the EdgeLock 2GO agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#datastore-keystore">6.3. Datastore / Keystore</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#connection-to-the-edgelock-2go-cloud-service">6.4. Connection to the EdgeLock 2GO cloud service</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#claim-codes">6.5. Claim Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#offline-provisioning-of-secure-objects">6.6. Offline Provisioning of Secure Objects</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.7. API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#edgelock-2go-main">6.7.1. EdgeLock 2GO Main</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edgelock-2go-datastore">6.7.2. EdgeLock 2GO Datastore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edgelock-2go-keystore">6.7.3. EdgeLock 2GO Keystore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edgelock-2go-session">6.7.4. EdgeLock 2GO Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edgelock-2go-service">6.7.5. EdgeLock 2GO Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edgelock-2go-dispatcher">6.7.6. EdgeLock 2GO Dispatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edgelock-2go-utils">6.7.7. EdgeLock 2GO Utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="readme_usage_examples.html">6.8. EdgeLock 2GO Agent Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../semslite/doc/index.html">7. SEMS Lite Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/index.html">8. Plugins / Add-ins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli-tool.html">9. CLI Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix.html">10. Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Note.html">11. Note about the source code in the document</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Revision_history.html">12. Revision history</a></li>
</ul>

</div>
<div class="row">
    <form class="form" action="../../search.html" method="get">
     <div class="form-group">
      <label for="Search">Search:</label>
      <input type="text" name="q" class="form-control" placeholder="Search" />
     </div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="api">
<h1><span class="section-number">6.7. </span>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<section id="edgelock-2go-main">
<h2><span class="section-number">6.7.1. </span>EdgeLock 2GO Main<a class="headerlink" href="#edgelock-2go-main" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__edgelock2go__agent__main"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">edgelock2go_agent_main</span></span></dt>
<dd><p>Main API for registering keystores, datastores and connecting to the cloud to update provisionings. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.CLAIMCODE_OBJ_ID">
<span class="target" id="group__edgelock2go__agent__main_1ga2ccd678dba12454b4099991a518e1f08"></span><span class="sig-name descname"><span class="n"><span class="pre">CLAIMCODE_OBJ_ID</span></span></span><br /></dt>
<dd><p>The keyid on the PSA API to use for fetching a claimcode. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EDGELOCK2GO_KEYSTORE_ID">
<span class="target" id="group__edgelock2go__agent__main_1ga754a6a696b6f261751f3fcc57f78fd75"></span><span class="sig-name descname"><span class="n"><span class="pre">EDGELOCK2GO_KEYSTORE_ID</span></span></span><br /></dt>
<dd><p>The keystore that stores the credentials for the EdgeLock 2GO cloud service. </p>
<p>When connecting to the EdgeLock 2GO cloud service, for the client authentication a private key is required. This key is expected to be in a keystore which is registered to the EdgeLock 2GO agent.</p>
<p>In case there is a datastore which holds the information how to connect to the EdgeLock 2GO cloud service this datastore also holds the information where to get the private key.</p>
<p>In case the EdgeLock 2GO agent needs to fall back to compile-time constant connection information, it does assume that the private key for the client authentication is stored in a keystore that is registered with this ID. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv426nxp_iot_UpdateStatusReport">
<span id="_CPPv326nxp_iot_UpdateStatusReport"></span><span id="_CPPv226nxp_iot_UpdateStatusReport"></span><span id="nxp_iot_UpdateStatusReport"></span><span class="target" id="group__edgelock2go__agent__main_1gab2249405be1380580455850f39f59939"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">_nxp_iot_UpdateStatusReport</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nxp_iot_UpdateStatusReport</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv410pb_field_t">
<span id="_CPPv310pb_field_t"></span><span id="_CPPv210pb_field_t"></span><span id="pb_field_t"></span><span class="target" id="group__edgelock2go__agent__main_1ga53c667ab2ba4e188fee712d355418904"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">pb_field_s</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pb_field_t</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412pb_istream_t">
<span id="_CPPv312pb_istream_t"></span><span id="_CPPv212pb_istream_t"></span><span id="pb_istream_t"></span><span class="target" id="group__edgelock2go__agent__main_1gae4a0d49c85b2eb9e3497a4352aa0db63"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">pb_istream_s</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pb_istream_t</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412pb_ostream_t">
<span id="_CPPv312pb_ostream_t"></span><span id="_CPPv212pb_ostream_t"></span><span id="pb_ostream_t"></span><span class="target" id="group__edgelock2go__agent__main_1ga0a2d46c69fdcda81627431d7b58b0bac"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">pb_ostream_s</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pb_ostream_t</span></span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv433iot_agent_free_service_descriptorP25nxp_iot_ServiceDescriptor">
<span id="_CPPv333iot_agent_free_service_descriptorP25nxp_iot_ServiceDescriptor"></span><span id="_CPPv233iot_agent_free_service_descriptorP25nxp_iot_ServiceDescriptor"></span><span id="iot_agent_free_service_descriptor__nxp_iot_ServiceDescriptorP"></span><span class="target" id="group__edgelock2go__agent__main_1gae44d7181d9296a1c579cabbbd595c969"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_free_service_descriptor</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Free all FT_POINTER fields of a service descriptor. </p>
<p>When selecting a service, a service descriptor is read from a datastore. A service descriptor can contain fields of variable length (binary data (certificates, etc.) or text (hostname, etc.)). Those fields use dynamically allocated memory. The memory is freed by calling this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>service_descriptor</strong> – <strong>[in]</strong> Reference to service descriptor </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv435iot_agent_free_update_status_reportP26nxp_iot_UpdateStatusReport">
<span id="_CPPv335iot_agent_free_update_status_reportP26nxp_iot_UpdateStatusReport"></span><span id="_CPPv235iot_agent_free_update_status_reportP26nxp_iot_UpdateStatusReport"></span><span id="iot_agent_free_update_status_report__nxp_iot_UpdateStatusReportP"></span><span class="target" id="group__edgelock2go__agent__main_1gad80c3da3fbfe2ec6df7a7daf7a98d058"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_free_update_status_report</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gab2249405be1380580455850f39f59939.html#_CPPv426nxp_iot_UpdateStatusReport" title="nxp_iot_UpdateStatusReport"><span class="n"><span class="pre">nxp_iot_UpdateStatusReport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">status_report</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Free all FT_POINTER fields of a update status report. </p>
<p>When a status report is filled during updating a device configuration, it contains pointer fields which use dynamically allocated memory. The memory is freed by calling this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>status_report</strong> – <strong>[in]</strong> Reference to status_report </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429iot_agent_get_datastore_by_idPK19iot_agent_context_tK8uint32_tPP21iot_agent_datastore_t">
<span id="_CPPv329iot_agent_get_datastore_by_idPK19iot_agent_context_tK8uint32_tPP21iot_agent_datastore_t"></span><span id="_CPPv229iot_agent_get_datastore_by_idPK19iot_agent_context_tK8uint32_tPP21iot_agent_datastore_t"></span><span id="iot_agent_get_datastore_by_id__iot_agent_context_tCP.uint32_tC.iot_agent_datastore_tPP"></span><span class="target" id="group__edgelock2go__agent__main_1gafbec62888bd0409bcb32f0db92c92a99"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_get_datastore_by_id</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">id</span></span>, <a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get a reference to a datastore based on its identifier. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> The context of the agent. </p></li>
<li><p><strong>id</strong> – <strong>[in]</strong> The datastore ID. </p></li>
<li><p><strong>datastore</strong> – <strong>[out]</strong> The output datastore. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_STATUS_SUCCESS</strong> – A datastore with the <code class="docutils literal notranslate"><span class="pre">id</span></code> was found in the agent’s context and a pointer to it is returned in <code class="docutils literal notranslate"><span class="pre">datastore</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv435iot_agent_get_datastore_index_by_idPK19iot_agent_context_tK8uint32_tP6size_t">
<span id="_CPPv335iot_agent_get_datastore_index_by_idPK19iot_agent_context_tK8uint32_tP6size_t"></span><span id="_CPPv235iot_agent_get_datastore_index_by_idPK19iot_agent_context_tK8uint32_tP6size_t"></span><span id="iot_agent_get_datastore_index_by_id__iot_agent_context_tCP.uint32_tC.sP"></span><span class="target" id="group__edgelock2go__agent__main_1ga89880296390b5896ce2d8982b7ce0c3b"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_get_datastore_index_by_id</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">id</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get the index of a datastore based on its identifier. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> The context of the agent. </p></li>
<li><p><strong>id</strong> – <strong>[in]</strong> The datastore ID. </p></li>
<li><p><strong>index</strong> – <strong>[out]</strong> The output index. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_STATUS_SUCCESS</strong> – A datastore with the <code class="docutils literal notranslate"><span class="pre">id</span></code> was found in the agent’s context and its index is returned in <code class="docutils literal notranslate"><span class="pre">index</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427iot_agent_get_endpoint_infoPvPv">
<span id="_CPPv327iot_agent_get_endpoint_infoPvPv"></span><span id="_CPPv227iot_agent_get_endpoint_infoPvPv"></span><span id="iot_agent_get_endpoint_info__voidP.voidP"></span><span class="target" id="group__edgelock2go__agent__main_1ga22bd060df9afa42dd3d18b895f5ac931"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_get_endpoint_info</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">context</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">endpoint_information</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get an endpoint information of the endpoint. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>context</strong> – <strong>[in]</strong> Reference to end point context </p></li>
<li><p><strong>endpoint_information</strong> – <strong>[in]</strong> Reference to end point information </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428iot_agent_get_keystore_by_idPK19iot_agent_context_tK8uint32_tPP20iot_agent_keystore_t">
<span id="_CPPv328iot_agent_get_keystore_by_idPK19iot_agent_context_tK8uint32_tPP20iot_agent_keystore_t"></span><span id="_CPPv228iot_agent_get_keystore_by_idPK19iot_agent_context_tK8uint32_tPP20iot_agent_keystore_t"></span><span id="iot_agent_get_keystore_by_id__iot_agent_context_tCP.uint32_tC.iot_agent_keystore_tPP"></span><span class="target" id="group__edgelock2go__agent__main_1ga496f68d413ea7f3e6220591c6928bd40"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_get_keystore_by_id</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">id</span></span>, <a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get a reference to a keystore based on its identifier. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> The context of the agent. </p></li>
<li><p><strong>id</strong> – <strong>[in]</strong> The datastore ID. </p></li>
<li><p><strong>keystore</strong> – <strong>[out]</strong> The output keystore. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_STATUS_SUCCESS</strong> – A keystore with the <code class="docutils literal notranslate"><span class="pre">id</span></code> was found in the agent’s context and a pointer to it is returned in <code class="docutils literal notranslate"><span class="pre">keystore</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv434iot_agent_get_keystore_index_by_idPK19iot_agent_context_tK8uint32_tP6size_t">
<span id="_CPPv334iot_agent_get_keystore_index_by_idPK19iot_agent_context_tK8uint32_tP6size_t"></span><span id="_CPPv234iot_agent_get_keystore_index_by_idPK19iot_agent_context_tK8uint32_tP6size_t"></span><span id="iot_agent_get_keystore_index_by_id__iot_agent_context_tCP.uint32_tC.sP"></span><span class="target" id="group__edgelock2go__agent__main_1ga15e3c712f348cd18fadca0480f595381"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_get_keystore_index_by_id</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">id</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get the index of a keystore based in its identifier. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> The context of the agent. </p></li>
<li><p><strong>id</strong> – <strong>[in]</strong> The keystore ID. </p></li>
<li><p><strong>index</strong> – <strong>[out]</strong> The output index. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_STATUS_SUCCESS</strong> – A keystore with the <code class="docutils literal notranslate"><span class="pre">id</span></code> was found in the agent’s context and its index is returned in <code class="docutils literal notranslate"><span class="pre">index</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432iot_agent_get_number_of_servicesPK19iot_agent_context_t">
<span id="_CPPv332iot_agent_get_number_of_servicesPK19iot_agent_context_t"></span><span id="_CPPv232iot_agent_get_number_of_servicesPK19iot_agent_context_t"></span><span id="iot_agent_get_number_of_services__iot_agent_context_tCP"></span><span class="target" id="group__edgelock2go__agent__main_1ga8fa2402aa9f54ecc80fa1a1e261eedf9"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_get_number_of_services</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns total number of services of all registered datastores. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>Total</strong> – number of services of all registered datastores </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432iot_agent_get_service_descriptorPK19iot_agent_context_tP25nxp_iot_ServiceDescriptor">
<span id="_CPPv332iot_agent_get_service_descriptorPK19iot_agent_context_tP25nxp_iot_ServiceDescriptor"></span><span id="_CPPv232iot_agent_get_service_descriptorPK19iot_agent_context_tP25nxp_iot_ServiceDescriptor"></span><span id="iot_agent_get_service_descriptor__iot_agent_context_tCP.nxp_iot_ServiceDescriptorP"></span><span class="target" id="group__edgelock2go__agent__main_1gad27a145a00af3cdd10785e0734a273b1"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_get_service_descriptor</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get the service descriptor of the currently selected service. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> The context of the agent. </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[out]</strong> Structure for holding a service descriptor. Must point to a valid service descriptor object upon invocation. Any FT_POINTER fields in the service descriptor are freed before changing the contents to the service_descriptor of the selected service. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p>
</dd>
<dt class="field-odd">Pre</dt>
<dd class="field-odd"><p>The configuration data associated to the context is valid. </p>
</dd>
<dt class="field-even">Post</dt>
<dd class="field-even"><p>In case of success, the service_descriptor structure is filled and needs to be freed after usage by calling <a class="reference internal" href="#group__edgelock2go__agent__main_1gae44d7181d9296a1c579cabbbd595c969"><span class="std std-ref">iot_agent_free_service_descriptor</span></a>. In case of failure no freeing is required. Also in case of failures, the contents of service_descriptor are not guaranteed to remain intact. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424iot_agent_handle_requestP12pb_istream_tP12pb_ostream_tPK10pb_field_tPv">
<span id="_CPPv324iot_agent_handle_requestP12pb_istream_tP12pb_ostream_tPK10pb_field_tPv"></span><span id="_CPPv224iot_agent_handle_requestP12pb_istream_tP12pb_ostream_tPK10pb_field_tPv"></span><span id="iot_agent_handle_request__pb_istream_tP.pb_ostream_tP.pb_field_tCP.voidP"></span><span class="target" id="group__edgelock2go__agent__main_1ga420d54f861d8db01cfeca7e92756a520"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_handle_request</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gae4a0d49c85b2eb9e3497a4352aa0db63.html#_CPPv412pb_istream_t" title="pb_istream_t"><span class="n"><span class="pre">pb_istream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">istream</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga0a2d46c69fdcda81627431d7b58b0bac.html#_CPPv412pb_ostream_t" title="pb_ostream_t"><span class="n"><span class="pre">pb_ostream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ostream</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga53c667ab2ba4e188fee712d355418904.html#_CPPv410pb_field_t" title="pb_field_t"><span class="n"><span class="pre">pb_field_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">message_type</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">context</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>handle request by end point </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>istream</strong> – <strong>[in]</strong> Input stream </p></li>
<li><p><strong>ostream</strong> – <strong>[in]</strong> Output stream </p></li>
<li><p><strong>message_type</strong> – <strong>[in]</strong> a pointer to the message type fields array </p></li>
<li><p><strong>context</strong> – <strong>[in]</strong> End point context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414iot_agent_initP19iot_agent_context_t">
<span id="_CPPv314iot_agent_initP19iot_agent_context_t"></span><span id="_CPPv214iot_agent_initP19iot_agent_context_t"></span><span id="iot_agent_init__iot_agent_context_tP"></span><span class="target" id="group__edgelock2go__agent__main_1ga3d319341cacd8b6584cf4e45ff5cbd1b"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize EdgeLock 2GO agent context memory with zeros. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[inout]</strong> EdgeLock 2GO agent context </p>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425iot_agent_init_dispatcherP30iot_agent_dispatcher_context_tP19iot_agent_context_tP25nxp_iot_ServiceDescriptorP26nxp_iot_UpdateStatusReport">
<span id="_CPPv325iot_agent_init_dispatcherP30iot_agent_dispatcher_context_tP19iot_agent_context_tP25nxp_iot_ServiceDescriptorP26nxp_iot_UpdateStatusReport"></span><span id="_CPPv225iot_agent_init_dispatcherP30iot_agent_dispatcher_context_tP19iot_agent_context_tP25nxp_iot_ServiceDescriptorP26nxp_iot_UpdateStatusReport"></span><span id="iot_agent_init_dispatcher__iot_agent_dispatcher_context_tP.iot_agent_context_tP.nxp_iot_ServiceDescriptorP.nxp_iot_UpdateStatusReportP"></span><span class="target" id="group__edgelock2go__agent__main_1gaa1fdd657ab1b085e9bab7f34e5c0ce57"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_init_dispatcher</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__dispatcher__context__t.html#_CPPv430iot_agent_dispatcher_context_t" title="iot_agent_dispatcher_context_t"><span class="n"><span class="pre">iot_agent_dispatcher_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dispatcher_context</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">agent_context</span></span>, <span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gab2249405be1380580455850f39f59939.html#_CPPv426nxp_iot_UpdateStatusReport" title="nxp_iot_UpdateStatusReport"><span class="n"><span class="pre">nxp_iot_UpdateStatusReport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">status_report</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize Dispatcher. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dispatcher_context</strong> – <strong>[in]</strong> Context for the dispatcher </p></li>
<li><p><strong>agent_context</strong> – <strong>[in]</strong> Context for the agent </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[in]</strong> The service descriptor containing the connection parameters to connect to the EdgeLock 2GO cloud service. </p></li>
<li><p><strong>status_report</strong> – <strong>[out]</strong> A pointer to a structure that gets filled with a status report after the update is complete. If NULL is given, no status report is created. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv445iot_agent_is_service_configuration_data_validPK19iot_agent_context_t">
<span id="_CPPv345iot_agent_is_service_configuration_data_validPK19iot_agent_context_t"></span><span id="_CPPv245iot_agent_is_service_configuration_data_validPK19iot_agent_context_t"></span><span id="iot_agent_is_service_configuration_data_valid__iot_agent_context_tCP"></span><span class="target" id="group__edgelock2go__agent__main_1gaedf5ee6f479c0313c4d5b0b2ef3d0d91"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_is_service_configuration_data_valid</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks whether service configuration data of all registered datastores is valid. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Service configuration data of all registered datastores is valid </p></li>
<li><p><strong>false</strong> – Service configuration data of a registered datastores is invalid </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429iot_agent_print_status_reportPK26nxp_iot_UpdateStatusReport">
<span id="_CPPv329iot_agent_print_status_reportPK26nxp_iot_UpdateStatusReport"></span><span id="_CPPv229iot_agent_print_status_reportPK26nxp_iot_UpdateStatusReport"></span><span id="iot_agent_print_status_report__nxp_iot_UpdateStatusReportCP"></span><span class="target" id="group__edgelock2go__agent__main_1ga634a1ce12795e94eeadaf928c5c3a812"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_print_status_report</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gab2249405be1380580455850f39f59939.html#_CPPv426nxp_iot_UpdateStatusReport" title="nxp_iot_UpdateStatusReport"><span class="n"><span class="pre">nxp_iot_UpdateStatusReport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">status_report</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Print status report. </p>
<p>It prints the status report of the agent execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>status_report</strong> – <strong>[in]</strong> Reference to status_report </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428iot_agent_register_datastoreP19iot_agent_context_tP21iot_agent_datastore_t">
<span id="_CPPv328iot_agent_register_datastoreP19iot_agent_context_tP21iot_agent_datastore_t"></span><span id="_CPPv228iot_agent_register_datastoreP19iot_agent_context_tP21iot_agent_datastore_t"></span><span id="iot_agent_register_datastore__iot_agent_context_tP.iot_agent_datastore_tP"></span><span class="target" id="group__edgelock2go__agent__main_1ga97c59a62f882a78f7adc24d18d54663b"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_register_datastore</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Register datastore endpoint. </p>
<p>Note that the ownership for the datastore is not transferred. The caller is responsible that the datastore is freed at the appropriate time.</p>
<p>It is not possible to register two endpoints with the same identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p></li>
<li><p><strong>datastore</strong> – <strong>[in]</strong> Datastore that is registered.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427iot_agent_register_keystoreP19iot_agent_context_tP20iot_agent_keystore_t">
<span id="_CPPv327iot_agent_register_keystoreP19iot_agent_context_tP20iot_agent_keystore_t"></span><span id="_CPPv227iot_agent_register_keystoreP19iot_agent_context_tP20iot_agent_keystore_t"></span><span id="iot_agent_register_keystore__iot_agent_context_tP.iot_agent_keystore_tP"></span><span class="target" id="group__edgelock2go__agent__main_1gae8e32224660e4e59e7717f32a75406cc"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_register_keystore</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Register a keystore endpoint. </p>
<p>Note that the ownership for the keystore is not transferred. The caller is responsible that the keystore is freed at the appropriate time.</p>
<p>It is not possible to register two endpoints with the same identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – Context for the iot_agent. </p></li>
<li><p><strong>keystore</strong> – <strong>[in]</strong> Keystore that is registered.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv430iot_agent_select_service_by_idP19iot_agent_context_t8uint64_tP25nxp_iot_ServiceDescriptor">
<span id="_CPPv330iot_agent_select_service_by_idP19iot_agent_context_t8uint64_tP25nxp_iot_ServiceDescriptor"></span><span id="_CPPv230iot_agent_select_service_by_idP19iot_agent_context_t8uint64_tP25nxp_iot_ServiceDescriptor"></span><span id="iot_agent_select_service_by_id__iot_agent_context_tP.uint64_t.nxp_iot_ServiceDescriptorP"></span><span class="target" id="group__edgelock2go__agent__main_1ga137f3fc96f3f26b26574e73c739c232c"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_select_service_by_id</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">service_id</span></span>, <span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Select service by given ID. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__edgelock2go__agent__main_1gaedf5ee6f479c0313c4d5b0b2ef3d0d91"><span class="std std-ref">iot_agent_is_service_configuration_data_valid</span></a> </p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p></li>
<li><p><strong>service_id</strong> – <strong>[in]</strong> ID of the service </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[out]</strong> Structure for holding a service descriptor. Must point to a valid service descriptor object upon invocation. Any FT_POINTER fields in the service descriptor are freed before changing the contents to the service_descriptor of the selected service. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p>
</dd>
<dt class="field-odd">Pre</dt>
<dd class="field-odd"><p>The configuration data associated to the context is valid. </p>
</dd>
<dt class="field-even">Post</dt>
<dd class="field-even"><p>In case of success, the service_descriptor structure is filled and needs to be freed after usage by calling <a class="reference internal" href="#group__edgelock2go__agent__main_1gae44d7181d9296a1c579cabbbd595c969"><span class="std std-ref">iot_agent_free_service_descriptor</span></a>. In case of failure no freeing is required. Also in case of failures, the contents of service_descriptor are not guaranteed to remain intact. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv433iot_agent_select_service_by_indexP19iot_agent_context_t6size_tP25nxp_iot_ServiceDescriptor">
<span id="_CPPv333iot_agent_select_service_by_indexP19iot_agent_context_t6size_tP25nxp_iot_ServiceDescriptor"></span><span id="_CPPv233iot_agent_select_service_by_indexP19iot_agent_context_t6size_tP25nxp_iot_ServiceDescriptor"></span><span id="iot_agent_select_service_by_index__iot_agent_context_tP.s.nxp_iot_ServiceDescriptorP"></span><span class="target" id="group__edgelock2go__agent__main_1ga08c22d4e5c33b1e0270d46f45ac812e5"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_select_service_by_index</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">index</span></span>, <span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Select service by given index. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__edgelock2go__agent__main_1gaedf5ee6f479c0313c4d5b0b2ef3d0d91"><span class="std std-ref">iot_agent_is_service_configuration_data_valid</span></a> </p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p></li>
<li><p><strong>index</strong> – <strong>[in]</strong> Index of the service </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[out]</strong> Structure for holding a service descriptor. Must point to a valid service descriptor object upon invocation. Any FT_POINTER fields in the service descriptor are freed before changing the contents to the service_descriptor of the selected service. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p>
</dd>
<dt class="field-odd">Pre</dt>
<dd class="field-odd"><p>The configuration data associated to the context is valid. </p>
</dd>
<dt class="field-even">Post</dt>
<dd class="field-even"><p>In case of success, the service_descriptor structure is filled and needs to be freed after usage by calling <a class="reference internal" href="#group__edgelock2go__agent__main_1gae44d7181d9296a1c579cabbbd595c969"><span class="std std-ref">iot_agent_free_service_descriptor</span></a>. In case of failure no freeing is required. Also in case of failures, the contents of service_descriptor are not guaranteed to remain intact. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv435iot_agent_set_edgelock2go_datastoreP19iot_agent_context_tP21iot_agent_datastore_t">
<span id="_CPPv335iot_agent_set_edgelock2go_datastoreP19iot_agent_context_tP21iot_agent_datastore_t"></span><span id="_CPPv235iot_agent_set_edgelock2go_datastoreP19iot_agent_context_tP21iot_agent_datastore_t"></span><span id="iot_agent_set_edgelock2go_datastore__iot_agent_context_tP.iot_agent_datastore_tP"></span><span class="target" id="group__edgelock2go__agent__main_1ga3b71b3a97a1f71e153e0a608af3e9fbd"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_set_edgelock2go_datastore</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the datastore that is used to hold the information to connect to the EdgeLock 2GO cloud service. </p>
<p>Note that the ownership for the datastore is not transferred. The caller is responsible that the datastore is freed at the appropriate time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p></li>
<li><p><strong>datastore</strong> – <strong>[in]</strong> Datastore to be set. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv437iot_agent_update_device_configurationP19iot_agent_context_tP26nxp_iot_UpdateStatusReport">
<span id="_CPPv337iot_agent_update_device_configurationP19iot_agent_context_tP26nxp_iot_UpdateStatusReport"></span><span id="_CPPv237iot_agent_update_device_configurationP19iot_agent_context_tP26nxp_iot_UpdateStatusReport"></span><span id="iot_agent_update_device_configuration__iot_agent_context_tP.nxp_iot_UpdateStatusReportP"></span><span class="target" id="group__edgelock2go__agent__main_1gaec8e5baa9b70a52af3e3169ceaf8ab33"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_update_device_configuration</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">agent_context</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gab2249405be1380580455850f39f59939.html#_CPPv426nxp_iot_UpdateStatusReport" title="nxp_iot_UpdateStatusReport"><span class="n"><span class="pre">nxp_iot_UpdateStatusReport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">status_report</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Update device configuration Reach out to EdgeLock 2GO cloud service for checking and (if applicable) fetching configuration updates for the device. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_context</strong> – <strong>[in]</strong> Context for the iot_agent. </p></li>
<li><p><strong>status_report</strong> – <strong>[out]</strong> Provides a more detailed view on the operations performed during the update and its outcomes. If the argument is NULL, no detailed status is reported. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – Upon failure </p></li>
</ul>
</dd>
<dt class="field-odd">Post</dt>
<dd class="field-odd"><p>In case of success, the status_report structure is filled using dynamically allocated fields and needs to be freed after usage by calling #iot_agent_free_status_report.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv452iot_agent_update_device_configuration_from_constantsP19iot_agent_context_tP26nxp_iot_UpdateStatusReport">
<span id="_CPPv352iot_agent_update_device_configuration_from_constantsP19iot_agent_context_tP26nxp_iot_UpdateStatusReport"></span><span id="_CPPv252iot_agent_update_device_configuration_from_constantsP19iot_agent_context_tP26nxp_iot_UpdateStatusReport"></span><span id="iot_agent_update_device_configuration_from_constants__iot_agent_context_tP.nxp_iot_UpdateStatusReportP"></span><span class="target" id="group__edgelock2go__agent__main_1ga769f889e177021f6175a96866b9370b8"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_update_device_configuration_from_constants</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">agent_context</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gab2249405be1380580455850f39f59939.html#_CPPv426nxp_iot_UpdateStatusReport" title="nxp_iot_UpdateStatusReport"><span class="n"><span class="pre">nxp_iot_UpdateStatusReport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">status_report</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Update device configuration from constants. </p>
<p>Reach out to EdgeLock 2GO cloud service for checking and (if applicable) fetching configuration updates for the device.</p>
<p>The connection details (hostname/port/server root certificates, etc.) are taken from the configuration constants in nxp_iot_agent_config.h.</p>
<p>It is necessary that an sss keystore that contains credentials (client key and client certificate) for connecting to the EdgeLock 2GO cloud service. The object ids to those credentials are settable via function arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p></li>
<li><p><strong>status_report</strong> – <strong>[out]</strong> Provides a more detailed view on the operations performed during the update and its outcomes. If the argument is NULL, no detailed status is reported. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – Upon failure </p></li>
</ul>
</dd>
<dt class="field-odd">Post</dt>
<dd class="field-odd"><p>In case of success, the status_report structure is filled using dynamically allocated fields and needs to be freed after usage by calling #iot_agent_free_status_report.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv452iot_agent_update_device_configuration_from_datastoreP19iot_agent_context_tP21iot_agent_datastore_tP26nxp_iot_UpdateStatusReport">
<span id="_CPPv352iot_agent_update_device_configuration_from_datastoreP19iot_agent_context_tP21iot_agent_datastore_tP26nxp_iot_UpdateStatusReport"></span><span id="_CPPv252iot_agent_update_device_configuration_from_datastoreP19iot_agent_context_tP21iot_agent_datastore_tP26nxp_iot_UpdateStatusReport"></span><span id="iot_agent_update_device_configuration_from_datastore__iot_agent_context_tP.iot_agent_datastore_tP.nxp_iot_UpdateStatusReportP"></span><span class="target" id="group__edgelock2go__agent__main_1gac823035c78b9f04d46f7eadddd1141cd"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_update_device_configuration_from_datastore</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">agent_context</span></span>, <a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gab2249405be1380580455850f39f59939.html#_CPPv426nxp_iot_UpdateStatusReport" title="nxp_iot_UpdateStatusReport"><span class="n"><span class="pre">nxp_iot_UpdateStatusReport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">status_report</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Update device configuration from datastore. </p>
<p>Reach out to EdgeLock 2GO cloud service for checking and (if applicable) fetching configuration updates for the device.</p>
<p>The connection details (hostname/port/server root certificates, etc.) are taken from the datastore passed as input parameter</p>
<p>It is necessary that an sss keystore that contains credentials (client key and client certificate) for connecting to the EdgeLock 2GO cloud service. The object ids to those credentials are settable via function arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p></li>
<li><p><strong>datastore</strong> – <strong>[in]</strong> Datastore including the connection parameters </p></li>
<li><p><strong>status_report</strong> – <strong>[out]</strong> Provides a more detailed view on the operations performed during the update and its outcomes. If the argument is NULL, no detailed status is reported. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – Upon failure </p></li>
</ul>
</dd>
<dt class="field-odd">Post</dt>
<dd class="field-odd"><p>In case of success, the status_report structure is filled using dynamically allocated fields and needs to be freed after usage by calling #iot_agent_free_status_report.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv461iot_agent_update_device_configuration_from_service_descriptorP19iot_agent_context_tP25nxp_iot_ServiceDescriptorP26nxp_iot_UpdateStatusReport">
<span id="_CPPv361iot_agent_update_device_configuration_from_service_descriptorP19iot_agent_context_tP25nxp_iot_ServiceDescriptorP26nxp_iot_UpdateStatusReport"></span><span id="_CPPv261iot_agent_update_device_configuration_from_service_descriptorP19iot_agent_context_tP25nxp_iot_ServiceDescriptorP26nxp_iot_UpdateStatusReport"></span><span id="iot_agent_update_device_configuration_from_service_descriptor__iot_agent_context_tP.nxp_iot_ServiceDescriptorP.nxp_iot_UpdateStatusReportP"></span><span class="target" id="group__edgelock2go__agent__main_1ga10ea913017bf98b91e57a225de2c0fea"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_update_device_configuration_from_service_descriptor</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">agent_context</span></span>, <span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gab2249405be1380580455850f39f59939.html#_CPPv426nxp_iot_UpdateStatusReport" title="nxp_iot_UpdateStatusReport"><span class="n"><span class="pre">nxp_iot_UpdateStatusReport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">status_report</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Update device configuration from service descriptor. </p>
<p>Reach out to EdgeLock 2GO cloud service for checking and (if applicable) fetching configuration updates for the device.</p>
<p>The connection details (hostname/port/server root certificates, etc.) are taken from the service descriptor passed as input parameter</p>
<p>It is necessary that an sss keystore that contains credentials (client key and client certificate) for connecting to the EdgeLock 2GO cloud service. The object ids to those credentials are settable via function arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[in]</strong> Service descriptor including the connection parameters </p></li>
<li><p><strong>status_report</strong> – <strong>[out]</strong> Provides a more detailed view on the operations performed during the update and its outcomes. If the argument is NULL, no detailed status is reported. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – Upon failure </p></li>
</ul>
</dd>
<dt class="field-odd">Post</dt>
<dd class="field-odd"><p>In case of success, the status_report structure is filled using dynamically allocated fields and needs to be freed after usage by calling #iot_agent_free_status_report.</p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="edgelock-2go-datastore">
<h2><span class="section-number">6.7.2. </span>EdgeLock 2GO Datastore<a class="headerlink" href="#edgelock-2go-datastore" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__edgelock2go__agent__datastore"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">edgelock2go_agent_datastore</span></span></dt>
<dd><p>Functions that define how to interact with a datastore. There exist multiple concrete implementations for different microcontrollers. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv431iot_agent_datastore_allocator_t">
<span id="_CPPv331iot_agent_datastore_allocator_t"></span><span id="_CPPv231iot_agent_datastore_allocator_t"></span><span id="iot_agent_datastore_allocator_t"></span><span class="target" id="group__edgelock2go__agent__datastore_1ga99e32f542f88627d9c5eec4cbec8fc23"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_allocator_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv431iot_agent_datastore_committer_t">
<span id="_CPPv331iot_agent_datastore_committer_t"></span><span id="_CPPv231iot_agent_datastore_committer_t"></span><span id="iot_agent_datastore_committer_t"></span><span class="target" id="group__edgelock2go__agent__datastore_1gacbfdfb8ef9463b98be381f7f5a1a4164"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_committer_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv431iot_agent_datastore_destroyer_t">
<span id="_CPPv331iot_agent_datastore_destroyer_t"></span><span id="_CPPv231iot_agent_datastore_destroyer_t"></span><span id="iot_agent_datastore_destroyer_t"></span><span class="target" id="group__edgelock2go__agent__datastore_1gac9d673096bcf4db44c27855ac663e788"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_destroyer_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv428iot_agent_datastore_reader_t">
<span id="_CPPv328iot_agent_datastore_reader_t"></span><span id="_CPPv228iot_agent_datastore_reader_t"></span><span id="iot_agent_datastore_reader_t"></span><span class="target" id="group__edgelock2go__agent__datastore_1gabf16d875631175f492a93ec7f0dfe6cc"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_reader_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dst</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">len</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv431iot_agent_datastore_validator_t">
<span id="_CPPv331iot_agent_datastore_validator_t"></span><span id="_CPPv231iot_agent_datastore_validator_t"></span><span id="iot_agent_datastore_validator_t"></span><span class="target" id="group__edgelock2go__agent__datastore_1ga671e0c0a1502aca7269d9398a3da0e67"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_validator_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv428iot_agent_datastore_writer_t">
<span id="_CPPv328iot_agent_datastore_writer_t"></span><span id="_CPPv228iot_agent_datastore_writer_t"></span><span id="iot_agent_datastore_writer_t"></span><span class="target" id="group__edgelock2go__agent__datastore_1ga2bf6bf21f8f0cf593c9c09da2287d646"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_writer_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423nxp_iot_ResponsePayload">
<span id="_CPPv323nxp_iot_ResponsePayload"></span><span id="_CPPv223nxp_iot_ResponsePayload"></span><span id="nxp_iot_ResponsePayload"></span><span class="target" id="group__edgelock2go__agent__datastore_1gac68082bb9e33346d9a13df611e3357f2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">_nxp_iot_ResponsePayload</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nxp_iot_ResponsePayload</span></span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423datastore_read_callbackP12pb_istream_tP7uint8_t6size_t">
<span id="_CPPv323datastore_read_callbackP12pb_istream_tP7uint8_t6size_t"></span><span id="_CPPv223datastore_read_callbackP12pb_istream_tP7uint8_t6size_t"></span><span id="datastore_read_callback__pb_istream_tP.uint8_tP.s"></span><span class="target" id="group__edgelock2go__agent__datastore_1gacd73eb6e89246ec4eead7755c130e172"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">datastore_read_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gae4a0d49c85b2eb9e3497a4352aa0db63.html#_CPPv412pb_istream_t" title="pb_istream_t"><span class="n"><span class="pre">pb_istream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stream</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428iot_agent_datastore_allocateP21iot_agent_datastore_t6size_t">
<span id="_CPPv328iot_agent_datastore_allocateP21iot_agent_datastore_t6size_t"></span><span id="_CPPv228iot_agent_datastore_allocateP21iot_agent_datastore_t6size_t"></span><span id="iot_agent_datastore_allocate__iot_agent_datastore_tP.s"></span><span class="target" id="group__edgelock2go__agent__datastore_1gae53b5fa2d685a8910e946a2dda12b04b"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_allocate</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Allocate memory in a datastore. </p>
<p>Reserve memory in a datastore that can be written to by subsequent writes.</p>
<p>If the memory allocation fails, this function does not return IOT_AGENT_SUCCESS. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426iot_agent_datastore_commitP21iot_agent_datastore_t">
<span id="_CPPv326iot_agent_datastore_commitP21iot_agent_datastore_t"></span><span id="_CPPv226iot_agent_datastore_commitP21iot_agent_datastore_t"></span><span id="iot_agent_datastore_commit__iot_agent_datastore_tP"></span><span class="target" id="group__edgelock2go__agent__datastore_1ga35257d61c419e6a74742f8f24e2e63ba"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_commit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Commit a transaction to a datastore. </p>
<p>A call to this function indicates that all necessary writes of a transaction are done and the datastore contens can be considered valid.</p>
<p>This is the indication to the datastore to invalidate old contents and from point in time onwards use the data that was updated with the transaction tht is committed. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv448iot_agent_datastore_encode_datastore_ok_responseP12pb_ostream_t">
<span id="_CPPv348iot_agent_datastore_encode_datastore_ok_responseP12pb_ostream_t"></span><span id="_CPPv248iot_agent_datastore_encode_datastore_ok_responseP12pb_ostream_t"></span><span id="iot_agent_datastore_encode_datastore_ok_response__pb_ostream_tP"></span><span class="target" id="group__edgelock2go__agent__datastore_1gaf01a11eb4e7494981b23235eea311bf4"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_encode_datastore_ok_response</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga0a2d46c69fdcda81627431d7b58b0bac.html#_CPPv412pb_ostream_t" title="pb_ostream_t"><span class="n"><span class="pre">pb_ostream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ostream</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424iot_agent_datastore_freeP21iot_agent_datastore_t">
<span id="_CPPv324iot_agent_datastore_freeP21iot_agent_datastore_t"></span><span id="_CPPv224iot_agent_datastore_freeP21iot_agent_datastore_t"></span><span id="iot_agent_datastore_free__iot_agent_datastore_tP"></span><span class="target" id="group__edgelock2go__agent__datastore_1gae559bbaf813a607c075afed0345b9ceb"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_free</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Destroy the datastore. </p>
<p>Depending on the type of the datastore this is triggering actions on the datastore’s context itself by calling the _destroy() function of the datastore interface.</p>
<p>This does not free the context of the datastore.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">datastore</span></code> is not usable after a call to iot_agent_datastore_free. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424iot_agent_datastore_initP21iot_agent_datastore_t8uint32_tPKc31iot_agent_datastore_validator_t">
<span id="_CPPv324iot_agent_datastore_initP21iot_agent_datastore_t8uint32_tPKc31iot_agent_datastore_validator_t"></span><span id="_CPPv224iot_agent_datastore_initP21iot_agent_datastore_t8uint32_tPKc31iot_agent_datastore_validator_t"></span><span id="iot_agent_datastore_init__iot_agent_datastore_tP.uint32_t.cCP.iot_agent_datastore_validator_t"></span><span class="target" id="group__edgelock2go__agent__datastore_1ga62c7572cf6b275b29f25c9e5ab027263"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">identifier</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">basename</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__datastore_1ga671e0c0a1502aca7269d9398a3da0e67.html#_CPPv431iot_agent_datastore_validator_t" title="iot_agent_datastore_validator_t"><span class="n"><span class="pre">iot_agent_datastore_validator_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">validator</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize a Agent datastore. </p>
<p>The Agent datastore; internally executes all the necessary operations which allows the specific datastore to be initialized </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424iot_agent_datastore_readP21iot_agent_datastore_tPv6size_tP6size_t">
<span id="_CPPv324iot_agent_datastore_readP21iot_agent_datastore_tPv6size_tP6size_t"></span><span id="_CPPv224iot_agent_datastore_readP21iot_agent_datastore_tPv6size_tP6size_t"></span><span id="iot_agent_datastore_read__iot_agent_datastore_tP.voidP.s.sP"></span><span class="target" id="group__edgelock2go__agent__datastore_1ga53c2d909f3c011a066c50db136ae3dcc"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_read</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dst</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">offset</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Read from a datastore to a buffer in memory. </p>
<p>Starting at position <code class="docutils literal notranslate"><span class="pre">offset</span></code>, <code class="docutils literal notranslate"><span class="pre">len</span></code> bytes are read from the datastore and copied to the memory pointed to by <code class="docutils literal notranslate"><span class="pre">dst</span></code>.</p>
<p>If the datastore does not hold <code class="docutils literal notranslate"><span class="pre">len</span></code> bytes or the read would be out of bounds, only as many bytes as available are read.</p>
<p><code class="docutils literal notranslate"><span class="pre">len</span></code> is updated to hold the number of bytes that actually were read from the datastore.</p>
<p>No length checks on <code class="docutils literal notranslate"><span class="pre">dst</span></code> are performed, the caller is responsible that the memory location is writeable and can hold <code class="docutils literal notranslate"><span class="pre">len</span></code> bytes. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425iot_agent_datastore_writeP21iot_agent_datastore_t6size_tPKv6size_t">
<span id="_CPPv325iot_agent_datastore_writeP21iot_agent_datastore_t6size_tPKv6size_t"></span><span id="_CPPv225iot_agent_datastore_writeP21iot_agent_datastore_t6size_tPKv6size_t"></span><span id="iot_agent_datastore_write__iot_agent_datastore_tP.s.voidCP.s"></span><span class="target" id="group__edgelock2go__agent__datastore_1gae6de6ff99f125d9317dae0f83edab32c"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_write</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">offset</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">src</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Write from a buffer in memory to a datastore. </p>
<p>From <code class="docutils literal notranslate"><span class="pre">src</span></code>, <code class="docutils literal notranslate"><span class="pre">len</span></code> bytes are copied to the datastore. The first byte is written to the position <code class="docutils literal notranslate"><span class="pre">offset</span></code> in the datastore.</p>
<p>Length check on the destaination - the datastore - is performed, memory in the datastore needs to be pre-allocated. If the data does not fit, this function does not return IOT_AGENT_SUCCESS. </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv426datastore_stream_context_t">
<span id="_CPPv326datastore_stream_context_t"></span><span id="_CPPv226datastore_stream_context_t"></span><span id="datastore_stream_context_t"></span><span class="target" id="structdatastore__stream__context__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">datastore_stream_context_t</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;nxp_iot_agent_datastore.h&gt;</em></div>
<p>A stream for reading contents from within a datastore, starting at an offset. </p>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv431iot_agent_datastore_interface_t">
<span id="_CPPv331iot_agent_datastore_interface_t"></span><span id="_CPPv231iot_agent_datastore_interface_t"></span><span id="iot_agent_datastore_interface_t"></span><span class="target" id="structiot__agent__datastore__interface__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_interface_t</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;nxp_iot_agent_datastore.h&gt;</em></div>
<p>The interface any datastore needs to implement. </p>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv421iot_agent_datastore_t">
<span id="_CPPv321iot_agent_datastore_t"></span><span id="_CPPv221iot_agent_datastore_t"></span><span id="iot_agent_datastore_t"></span><span class="target" id="structiot__agent__datastore__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;nxp_iot_agent_datastore.h&gt;</em></div>
<p>A context holding the state of a datastore; this is passed to datastore interface functions. </p>
</dd></dl>

</dd></dl>

</section>
<section id="edgelock-2go-keystore">
<h2><span class="section-number">6.7.3. </span>EdgeLock 2GO Keystore<a class="headerlink" href="#edgelock-2go-keystore" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__edgelock2go__agent__keystore"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">edgelock2go_agent_keystore</span></span></dt>
<dd><p>Functions to interact with a keystore. There are concrete implementations of this API for different SEs. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv430iot_agent_keystore_destroyer_t">
<span id="_CPPv330iot_agent_keystore_destroyer_t"></span><span id="_CPPv230iot_agent_keystore_destroyer_t"></span><span id="iot_agent_keystore_destroyer_t"></span><span class="target" id="group__edgelock2go__agent__keystore_1ga84e75352baa7734cf7c65f8e637734b3"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_destroyer_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv435iot_agent_keystore_session_closer_t">
<span id="_CPPv335iot_agent_keystore_session_closer_t"></span><span id="_CPPv235iot_agent_keystore_session_closer_t"></span><span id="iot_agent_keystore_session_closer_t"></span><span class="target" id="group__edgelock2go__agent__keystore_1ga73c1db1145825b2ceea8badd52b05bde"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_session_closer_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv435iot_agent_keystore_session_opener_t">
<span id="_CPPv335iot_agent_keystore_session_opener_t"></span><span id="_CPPv235iot_agent_keystore_session_opener_t"></span><span id="iot_agent_keystore_session_opener_t"></span><span class="target" id="group__edgelock2go__agent__keystore_1gac9faa443d2901e3bda2728e2f0e45099"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_session_opener_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432iot_agent_keystore_close_sessionP20iot_agent_keystore_t">
<span id="_CPPv332iot_agent_keystore_close_sessionP20iot_agent_keystore_t"></span><span id="_CPPv232iot_agent_keystore_close_sessionP20iot_agent_keystore_t"></span><span id="iot_agent_keystore_close_session__iot_agent_keystore_tP"></span><span class="target" id="group__edgelock2go__agent__keystore_1ga56c09420646b32d60bfffee45af72b4d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_close_session</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Close a session/connection to a keystore. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423iot_agent_keystore_freeP20iot_agent_keystore_t">
<span id="_CPPv323iot_agent_keystore_freeP20iot_agent_keystore_t"></span><span id="_CPPv223iot_agent_keystore_freeP20iot_agent_keystore_t"></span><span id="iot_agent_keystore_free__iot_agent_keystore_tP"></span><span class="target" id="group__edgelock2go__agent__keystore_1ga4a5c5653e5b414f56989d1880d321b2d"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_free</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Destroy the keystore. </p>
<p>Depending on the type of the keystore this is triggering actions on the keystore’s context itself by calling the _destroy() function of the keystore interface.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">keystore</span></code> is not usable after a call to iot_agent_keystore_free. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423iot_agent_keystore_initP20iot_agent_keystore_t8uint32_tP28iot_agent_platform_context_t">
<span id="_CPPv323iot_agent_keystore_initP20iot_agent_keystore_t8uint32_tP28iot_agent_platform_context_t"></span><span id="_CPPv223iot_agent_keystore_initP20iot_agent_keystore_t8uint32_tP28iot_agent_platform_context_t"></span><span id="iot_agent_keystore_init__iot_agent_keystore_tP.uint32_t.iot_agent_platform_context_tP"></span><span class="target" id="group__edgelock2go__agent__keystore_1ga130164447cc32cde3f14b649329e5afd"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">identifier</span></span>, <span class="n"><span class="pre">iot_agent_platform_context_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">platform_context</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize an Agent keystore. </p>
<p>The Agent keystore; internally executes all the necessary operations which allows the specific keystore to be initialized as for example openining a SE5x session with the secure element if necessary</p>
<p>If the function does not return IOT_AGENT_SUCCESS, it can be assumed that no memory was allocated. The datastore is unusable. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431iot_agent_keystore_open_sessionP20iot_agent_keystore_t">
<span id="_CPPv331iot_agent_keystore_open_sessionP20iot_agent_keystore_t"></span><span id="_CPPv231iot_agent_keystore_open_sessionP20iot_agent_keystore_t"></span><span id="iot_agent_keystore_open_session__iot_agent_keystore_tP"></span><span class="target" id="group__edgelock2go__agent__keystore_1ga3f38c9f13daf3f3c792d1fe0e6ca71c6"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_open_session</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Open a session/connection to a keystore. </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv430iot_agent_keystore_interface_t">
<span id="_CPPv330iot_agent_keystore_interface_t"></span><span id="_CPPv230iot_agent_keystore_interface_t"></span><span id="iot_agent_keystore_interface_t"></span><span class="target" id="structiot__agent__keystore__interface__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_interface_t</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;nxp_iot_agent_keystore.h&gt;</em></div>
<p>The interface any keystore needs to implement. </p>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv428iot_agent_keystore_key_ref_t">
<span id="_CPPv328iot_agent_keystore_key_ref_t"></span><span id="_CPPv228iot_agent_keystore_key_ref_t"></span><span id="iot_agent_keystore_key_ref_t"></span><span class="target" id="structiot__agent__keystore__key__ref__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_key_ref_t</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;nxp_iot_agent_keystore.h&gt;</em></div>
<p>A structure used to abstract key reference between different OpenSSL versions. </p>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv420iot_agent_keystore_t">
<span id="_CPPv320iot_agent_keystore_t"></span><span id="_CPPv220iot_agent_keystore_t"></span><span id="iot_agent_keystore_t"></span><span class="target" id="structiot__agent__keystore__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;nxp_iot_agent_keystore.h&gt;</em></div>
<p>A structure binding a keystore interface and a keystore context to a keystore instance. </p>
</dd></dl>

</dd></dl>

</section>
<section id="edgelock-2go-session">
<h2><span class="section-number">6.7.4. </span>EdgeLock 2GO Session<a class="headerlink" href="#edgelock-2go-session" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygengroup: Cannot find group “edgelock2go_agent_session” in doxygen xml output for project “simw” from directory: ../../../../_docs_build_simw/xml</p>
</div>
</section>
<section id="edgelock-2go-service">
<h2><span class="section-number">6.7.5. </span>EdgeLock 2GO Service<a class="headerlink" href="#edgelock-2go-service" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__edgelock2go__agent__service"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">edgelock2go_agent_service</span></span></dt>
<dd><p>Functionality to work with service descriptors. A service descriptor represents all information from a single cloud provisioning. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.IOT_AGENT_CONFIGURATION_DATA_VERSION">
<span class="target" id="group__edgelock2go__agent__service_1ga1e78c2e46a5aa6aaa91b2d9d5e83ab08"></span><span class="sig-name descname"><span class="n"><span class="pre">IOT_AGENT_CONFIGURATION_DATA_VERSION</span></span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv427configuration_data_header_t">
<span id="_CPPv327configuration_data_header_t"></span><span id="_CPPv227configuration_data_header_t"></span><span id="configuration_data_header_t"></span><span class="target" id="group__edgelock2go__agent__service_1ga92b8531a760739e75135c75edec63725"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">__PACKED_STRUCT</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">configuration_data_header_t</span></span></span><br /></dt>
<dd><p>The header of configuration data stored in a datastore. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423public_key_identifier_t">
<span id="_CPPv323public_key_identifier_t"></span><span id="_CPPv223public_key_identifier_t"></span><span id="public_key_identifier_t"></span><span class="target" id="group__edgelock2go__agent__service_1ga37547adf23bddaa757484b9f8ce0c6b9"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">public_key_identifier_t</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">16</span></span><span class="p"><span class="pre">]</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420service_identifier_t">
<span id="_CPPv320service_identifier_t"></span><span id="_CPPv220service_identifier_t"></span><span id="service_identifier_t"></span><span class="target" id="group__edgelock2go__agent__service_1gaf2572000d30f703bb30a5d8481b2708b"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">service_identifier_t</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">32</span></span><span class="p"><span class="pre">]</span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv441iot_agent_service_free_service_descriptorP25nxp_iot_ServiceDescriptor">
<span id="_CPPv341iot_agent_service_free_service_descriptorP25nxp_iot_ServiceDescriptor"></span><span id="_CPPv241iot_agent_service_free_service_descriptorP25nxp_iot_ServiceDescriptor"></span><span id="iot_agent_service_free_service_descriptor__nxp_iot_ServiceDescriptorP"></span><span class="target" id="group__edgelock2go__agent__service_1gada0bfe46e6734c9ea1bcac4acb1d6977"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_service_free_service_descriptor</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Free all FT_POINTER fields of a service descriptor. </p>
<p>When selecting a service, a service descriptor is read from a datastore. A service descriptor can contain fields of variable length (binary data (certificates, etc.) or text (hostname, etc.)). Those fields use dynamically allocated memory. The memory is freed by calling this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>service_descriptor</strong> – <strong>[in]</strong> Reference to service descriptor </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv440iot_agent_service_get_number_of_servicesPK21iot_agent_datastore_t">
<span id="_CPPv340iot_agent_service_get_number_of_servicesPK21iot_agent_datastore_t"></span><span id="_CPPv240iot_agent_service_get_number_of_servicesPK21iot_agent_datastore_t"></span><span id="iot_agent_service_get_number_of_services__iot_agent_datastore_tCP"></span><span class="target" id="group__edgelock2go__agent__service_1gad87e5cb0c9fe1aebcc5745b419a55a0d"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_service_get_number_of_services</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get the number of services that are available. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The number of services that are avilable. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv451iot_agent_service_get_protocol_of_service_as_stringPK25nxp_iot_ServiceDescriptorPPKc">
<span id="_CPPv351iot_agent_service_get_protocol_of_service_as_stringPK25nxp_iot_ServiceDescriptorPPKc"></span><span id="_CPPv251iot_agent_service_get_protocol_of_service_as_stringPK25nxp_iot_ServiceDescriptorPPKc"></span><span id="iot_agent_service_get_protocol_of_service_as_string__nxp_iot_ServiceDescriptorCP.cCPP"></span><span class="target" id="group__edgelock2go__agent__service_1ga223b9905a3c4d01a40d034673b660c9a"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_service_get_protocol_of_service_as_string</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buffer</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get a textual description of the protocol. </p>
<p>Protocol strings are internal constant c-strings. This function returns a pointer to such a string, ownership remains with the iot_agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service_descriptor</strong> – <strong>[in]</strong> The service descriptor to get the protocol for. </p></li>
<li><p><strong>buffer</strong> – <strong>[out]</strong> A pointer to a c-string that is changed to point to the textual representation of the protocol.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – The service type could be resolved. </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – The service type is invalid. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv451iot_agent_service_get_service_descriptor_of_servicePK21iot_agent_datastore_t6size_tP25nxp_iot_ServiceDescriptor">
<span id="_CPPv351iot_agent_service_get_service_descriptor_of_servicePK21iot_agent_datastore_t6size_tP25nxp_iot_ServiceDescriptor"></span><span id="_CPPv251iot_agent_service_get_service_descriptor_of_servicePK21iot_agent_datastore_t6size_tP25nxp_iot_ServiceDescriptor"></span><span id="iot_agent_service_get_service_descriptor_of_service__iot_agent_datastore_tCP.s.nxp_iot_ServiceDescriptorP"></span><span class="target" id="group__edgelock2go__agent__service_1ga55cc0651df0225cc5fda0fb6f20cc9e0"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_service_get_service_descriptor_of_service</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">offset</span></span>, <span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get the service descriptor of a service specified by offset. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__edgelock2go__agent__main_1gaedf5ee6f479c0313c4d5b0b2ef3d0d91"><span class="std std-ref">iot_agent_is_service_configuration_data_valid</span></a> </p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> The datastore to query for the service. </p></li>
<li><p><strong>offset</strong> – <strong>[in]</strong> The offset of the service - the memory location in the given datastore. </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[out]</strong> Structure for holding a service descriptor. Must point to a valid service descriptor object upon invocation. Any FT_POINTER fields in the service descriptor are freed before changing the contents to the service_descriptor of the selected service. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p>
</dd>
<dt class="field-odd">Pre</dt>
<dd class="field-odd"><p>The configuration data associated to the context is valid. </p>
</dd>
<dt class="field-even">Post</dt>
<dd class="field-even"><p>In case of success, the service_descriptor structure is filled and needs to be freed after usage by calling <a class="reference internal" href="#group__edgelock2go__agent__main_1gae44d7181d9296a1c579cabbbd595c969"><span class="std std-ref">iot_agent_free_service_descriptor</span></a>. In case of failure no freeing is required. Also in case of failures, the contents of service_descriptor are not guaranteed to remain intact. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv442iot_agent_service_get_service_offset_by_idPK21iot_agent_datastore_t8uint64_tP6size_tP25nxp_iot_ServiceDescriptor">
<span id="_CPPv342iot_agent_service_get_service_offset_by_idPK21iot_agent_datastore_t8uint64_tP6size_tP25nxp_iot_ServiceDescriptor"></span><span id="_CPPv242iot_agent_service_get_service_offset_by_idPK21iot_agent_datastore_t8uint64_tP6size_tP25nxp_iot_ServiceDescriptor"></span><span id="iot_agent_service_get_service_offset_by_id__iot_agent_datastore_tCP.uint64_t.sP.nxp_iot_ServiceDescriptorP"></span><span class="target" id="group__edgelock2go__agent__service_1ga479c8a567b93da429b53dbc3669730a4"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_service_get_service_offset_by_id</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">service_id</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">offset</span></span>, <span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get the offset and the service descriptor of a service specified by service_id. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__edgelock2go__agent__main_1gaedf5ee6f479c0313c4d5b0b2ef3d0d91"><span class="std std-ref">iot_agent_is_service_configuration_data_valid</span></a> </p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datastore</strong> – <strong>[in]</strong> The datastore to query for the service. </p></li>
<li><p><strong>service_id</strong> – <strong>[in]</strong> ID of the service </p></li>
<li><p><strong>offset</strong> – <strong>[out]</strong> The offset of the service descriptor within the datastore. </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[out]</strong> Structure for holding a service descriptor. Must point to a valid service descriptor object upon invocation. Any FT_POINTER fields in the service descriptor are freed before changing the contents to the service_descriptor of the selected service. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p>
</dd>
<dt class="field-odd">Pre</dt>
<dd class="field-odd"><p>The configuration data associated to the context is valid. </p>
</dd>
<dt class="field-even">Post</dt>
<dd class="field-even"><p>In case of success, the service_descriptor structure is filled and needs to be freed after usage by calling <a class="reference internal" href="#group__edgelock2go__agent__main_1gae44d7181d9296a1c579cabbbd595c969"><span class="std std-ref">iot_agent_free_service_descriptor</span></a>. In case of failure no freeing is required. Also in case of failures, the contents of service_descriptor are not guaranteed to remain intact. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv445iot_agent_service_get_service_offset_by_indexPK21iot_agent_datastore_t6size_tP6size_tP25nxp_iot_ServiceDescriptor">
<span id="_CPPv345iot_agent_service_get_service_offset_by_indexPK21iot_agent_datastore_t6size_tP6size_tP25nxp_iot_ServiceDescriptor"></span><span id="_CPPv245iot_agent_service_get_service_offset_by_indexPK21iot_agent_datastore_t6size_tP6size_tP25nxp_iot_ServiceDescriptor"></span><span id="iot_agent_service_get_service_offset_by_index__iot_agent_datastore_tCP.s.sP.nxp_iot_ServiceDescriptorP"></span><span class="target" id="group__edgelock2go__agent__service_1gaf2ed90556af1f65d2bcf7bdc342499d5"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_service_get_service_offset_by_index</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">index</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">offset</span></span>, <span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get the offset and the service descriptor of a service specified by index. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__edgelock2go__agent__main_1gaedf5ee6f479c0313c4d5b0b2ef3d0d91"><span class="std std-ref">iot_agent_is_service_configuration_data_valid</span></a> </p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> The datastore to query for the service. </p></li>
<li><p><strong>index</strong> – <strong>[in]</strong> The index of the service (within the given datastore). </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[out]</strong> Structure for holding a service descriptor. Must point to a valid service descriptor object upon invocation. Any FT_POINTER fields in the service descriptor are freed before changing the contents to the service_descriptor of the selected service. </p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>IOT_AGENT_SUCCESS</strong> – Upon success </p>
</dd>
<dt class="field-odd">Pre</dt>
<dd class="field-odd"><p>The configuration data associated to the context is valid. </p>
</dd>
<dt class="field-even">Post</dt>
<dd class="field-even"><p>In case of success, the service_descriptor structure is filled and needs to be freed after usage by calling <a class="reference internal" href="#group__edgelock2go__agent__main_1gae44d7181d9296a1c579cabbbd595c969"><span class="std std-ref">iot_agent_free_service_descriptor</span></a>. In case of failure no freeing is required. Also in case of failures, the contents of service_descriptor are not guaranteed to remain intact. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv444iot_agent_service_get_service_type_as_stringPK25nxp_iot_ServiceDescriptorPPKc">
<span id="_CPPv344iot_agent_service_get_service_type_as_stringPK25nxp_iot_ServiceDescriptorPPKc"></span><span id="_CPPv244iot_agent_service_get_service_type_as_stringPK25nxp_iot_ServiceDescriptorPPKc"></span><span id="iot_agent_service_get_service_type_as_string__nxp_iot_ServiceDescriptorCP.cCPP"></span><span class="target" id="group__edgelock2go__agent__service_1gaaa760566938401ade73aa4cbed8fcc2e"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_service_get_service_type_as_string</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buffer</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get a textual description of the service type. </p>
<p>Service type strings are internal constant c-strings. This function returns a pointer to such a string, ownership remains with the iot_agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service_descriptor</strong> – <strong>[in]</strong> The service descriptor to get the type for. </p></li>
<li><p><strong>buffer</strong> – <strong>[out]</strong> A pointer to a c-string that is changed to point to the textual representation of the service type.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – The service type could be resolved. </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – The service type is invalid. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv445iot_agent_service_is_configuration_data_validPK21iot_agent_datastore_t">
<span id="_CPPv345iot_agent_service_is_configuration_data_validPK21iot_agent_datastore_t"></span><span id="_CPPv245iot_agent_service_is_configuration_data_validPK21iot_agent_datastore_t"></span><span id="iot_agent_service_is_configuration_data_valid__iot_agent_datastore_tCP"></span><span class="target" id="group__edgelock2go__agent__service_1gab1c18aaf60fa18ebcb99d3a5ace524dc"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_service_is_configuration_data_valid</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks service configuration data of all registered datastores are valid. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent. </p>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Service configuration data of all registered datastores are valid </p></li>
<li><p><strong>false</strong> – Service configuration data of a registered datastores is invalid </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv46length">
<span id="_CPPv36length"></span><span id="_CPPv26length"></span><span id="length__uint32_t"></span><span class="target" id="group__edgelock2go__agent__service_1gaebb70c2aab3407a9f05334c47131a43b"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">length</span></span></span><br /></dt>
<dd><p>Total length of the stored data (incl. all fields of configuration_data_header_t). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv418number_of_services">
<span id="_CPPv318number_of_services"></span><span id="_CPPv218number_of_services"></span><span id="number_of_services__uint32_t"></span><span class="target" id="group__edgelock2go__agent__service_1ga1148d30c61aa69b1cfab566adaa0201c"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">number_of_services</span></span></span><br /></dt>
<dd><p>Number of stored service configurations. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv47version">
<span id="_CPPv37version"></span><span id="_CPPv27version"></span><span id="version__uint32_t"></span><span class="target" id="group__edgelock2go__agent__service_1gacd99bb05ca015e7d74448acb1deba7ca"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">version</span></span></span><a class="headerlink" href="#_CPPv47version" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Version number of the structure of the configuration data. </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv414service_link_t">
<span id="_CPPv314service_link_t"></span><span id="_CPPv214service_link_t"></span><span id="service_link_t"></span><span class="target" id="structservice__link__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">service_link_t</span></span></span><br /></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="edgelock-2go-dispatcher">
<h2><span class="section-number">6.7.6. </span>EdgeLock 2GO Dispatcher<a class="headerlink" href="#edgelock-2go-dispatcher" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__edgelock2go__agent__dispatcher"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">edgelock2go_agent_dispatcher</span></span></dt>
<dd><p>The dispatcher handles and decodes requests of endpoints. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv428get_endpoint_info_callback_t">
<span id="_CPPv328get_endpoint_info_callback_t"></span><span id="_CPPv228get_endpoint_info_callback_t"></span><span id="get_endpoint_info_callback_t"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1gaccac0081ca7546da332d6ca38bd4000b"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">get_endpoint_info_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">endpoint_information</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419iot_agent_context_t">
<span id="_CPPv319iot_agent_context_t"></span><span id="_CPPv219iot_agent_context_t"></span><span id="iot_agent_context_t"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_context_t</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv426request_handler_callback_t">
<span id="_CPPv326request_handler_callback_t"></span><span id="_CPPv226request_handler_callback_t"></span><span id="request_handler_callback_t"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1ga37560a07f5c2cab41248505a4e0aa2d6"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">request_handler_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gae4a0d49c85b2eb9e3497a4352aa0db63.html#_CPPv412pb_istream_t" title="pb_istream_t"><span class="n"><span class="pre">pb_istream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">istream</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga0a2d46c69fdcda81627431d7b58b0bac.html#_CPPv412pb_ostream_t" title="pb_ostream_t"><span class="n"><span class="pre">pb_ostream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ostream</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga53c667ab2ba4e188fee712d355418904.html#_CPPv410pb_field_t" title="pb_field_t"><span class="n"><span class="pre">pb_field_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">message_type</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">endpoint_context</span></span><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv424_iot_agent_stream_type_t">
<span id="_CPPv324_iot_agent_stream_type_t"></span><span id="_CPPv224_iot_agent_stream_type_t"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1gafe606090af3a16d8d661865df0e1ba94"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_iot_agent_stream_type_t</span></span></span><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24_iot_agent_stream_type_t19STREAM_TYPE_NETWORKE">
<span id="_CPPv3N24_iot_agent_stream_type_t19STREAM_TYPE_NETWORKE"></span><span id="_CPPv2N24_iot_agent_stream_type_t19STREAM_TYPE_NETWORKE"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1ggafe606090af3a16d8d661865df0e1ba94a347b2f30a83ec5d841cd57d8cbda7cdf"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">STREAM_TYPE_NETWORK</span></span></span><br /></dt>
<dd><p>Network stream </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24_iot_agent_stream_type_t27STREAM_TYPE_BUFFER_REQUESTSE">
<span id="_CPPv3N24_iot_agent_stream_type_t27STREAM_TYPE_BUFFER_REQUESTSE"></span><span id="_CPPv2N24_iot_agent_stream_type_t27STREAM_TYPE_BUFFER_REQUESTSE"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1ggafe606090af3a16d8d661865df0e1ba94a5d608cf1f9d9681dee5982754660b370"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">STREAM_TYPE_BUFFER_REQUESTS</span></span></span><br /></dt>
<dd><p>Buffer stream in Requests format </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425encode_responses_callbackP12pb_ostream_tPK10pb_field_tPPCv">
<span id="_CPPv325encode_responses_callbackP12pb_ostream_tPK10pb_field_tPPCv"></span><span id="_CPPv225encode_responses_callbackP12pb_ostream_tPK10pb_field_tPPCv"></span><span id="encode_responses_callback__pb_ostream_tP.pb_field_tCP.voidPCP"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1ga020e5e6aa03780be0704bf8b33374709"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">encode_responses_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga0a2d46c69fdcda81627431d7b58b0bac.html#_CPPv412pb_ostream_t" title="pb_ostream_t"><span class="n"><span class="pre">pb_ostream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ostream</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga53c667ab2ba4e188fee712d355418904.html#_CPPv410pb_field_t" title="pb_field_t"><span class="n"><span class="pre">pb_field_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">field</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">arg</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Encodes the responses callback. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ostream</strong> – <strong>[out]</strong> Output stream </p></li>
<li><p><strong>filed</strong> – <strong>[in]</strong> Input pb field </p></li>
<li><p><strong>args</strong> – <strong>[in]</strong> Payload arguments </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429encode_responses_from_payloadP12pb_ostream_tP23nxp_iot_ResponsePayload">
<span id="_CPPv329encode_responses_from_payloadP12pb_ostream_tP23nxp_iot_ResponsePayload"></span><span id="_CPPv229encode_responses_from_payloadP12pb_ostream_tP23nxp_iot_ResponsePayload"></span><span id="encode_responses_from_payload__pb_ostream_tP.nxp_iot_ResponsePayloadP"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1ga7977b5b02b58b9ce803cfa74db3be183"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">encode_responses_from_payload</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga0a2d46c69fdcda81627431d7b58b0bac.html#_CPPv412pb_ostream_t" title="pb_ostream_t"><span class="n"><span class="pre">pb_ostream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ostream</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__datastore_1gac68082bb9e33346d9a13df611e3357f2.html#_CPPv423nxp_iot_ResponsePayload" title="nxp_iot_ResponsePayload"><span class="n"><span class="pre">nxp_iot_ResponsePayload</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">response</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Encodes the response from payload. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ostream</strong> – <strong>[out]</strong> Output stream </p></li>
<li><p><strong>response</strong> – <strong>[in]</strong> The input payload </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422handle_request_payloadP12pb_istream_tPK10pb_field_tPPv">
<span id="_CPPv322handle_request_payloadP12pb_istream_tPK10pb_field_tPPv"></span><span id="_CPPv222handle_request_payloadP12pb_istream_tPK10pb_field_tPPv"></span><span id="handle_request_payload__pb_istream_tP.pb_field_tCP.voidPP"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1gaaa173f188f98b9c7f5efffc9e8ced28e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">handle_request_payload</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gae4a0d49c85b2eb9e3497a4352aa0db63.html#_CPPv412pb_istream_t" title="pb_istream_t"><span class="n"><span class="pre">pb_istream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stream</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga53c667ab2ba4e188fee712d355418904.html#_CPPv410pb_field_t" title="pb_field_t"><span class="n"><span class="pre">pb_field_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">field</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">arg</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Handles the payload request. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream</strong> – <strong>[in]</strong> Input stream </p></li>
<li><p><strong>filed</strong> – <strong>[in]</strong> Input pb field </p></li>
<li><p><strong>args</strong> – <strong>[in]</strong> Payload arguments </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415handle_requestsP12pb_istream_tPK10pb_field_tPPv">
<span id="_CPPv315handle_requestsP12pb_istream_tPK10pb_field_tPPv"></span><span id="_CPPv215handle_requestsP12pb_istream_tPK10pb_field_tPPv"></span><span id="handle_requests__pb_istream_tP.pb_field_tCP.voidPP"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1ga6d8c336bf67cf6206456dcb066315b1b"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">handle_requests</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gae4a0d49c85b2eb9e3497a4352aa0db63.html#_CPPv412pb_istream_t" title="pb_istream_t"><span class="n"><span class="pre">pb_istream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stream</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga53c667ab2ba4e188fee712d355418904.html#_CPPv410pb_field_t" title="pb_field_t"><span class="n"><span class="pre">pb_field_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">field</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">arg</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Handles the request. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream</strong> – <strong>[in]</strong> Input stream </p></li>
<li><p><strong>filed</strong> – <strong>[in]</strong> Input pb field </p></li>
<li><p><strong>args</strong> – <strong>[in]</strong> Payload arguments </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420iot_agent_dispatcherP30iot_agent_dispatcher_context_tP12pb_istream_tP12pb_ostream_t">
<span id="_CPPv320iot_agent_dispatcherP30iot_agent_dispatcher_context_tP12pb_istream_tP12pb_ostream_t"></span><span id="_CPPv220iot_agent_dispatcherP30iot_agent_dispatcher_context_tP12pb_istream_tP12pb_ostream_t"></span><span id="iot_agent_dispatcher__iot_agent_dispatcher_context_tP.pb_istream_tP.pb_ostream_tP"></span><span class="target" id="group__edgelock2go__agent__dispatcher_1gac5e483a790891ef84c99f1b6c89fb5c0"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_dispatcher</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__dispatcher__context__t.html#_CPPv430iot_agent_dispatcher_context_t" title="iot_agent_dispatcher_context_t"><span class="n"><span class="pre">iot_agent_dispatcher_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dispatcher_context</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1gae4a0d49c85b2eb9e3497a4352aa0db63.html#_CPPv412pb_istream_t" title="pb_istream_t"><span class="n"><span class="pre">pb_istream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">input</span></span>, <a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__main_1ga0a2d46c69fdcda81627431d7b58b0bac.html#_CPPv412pb_ostream_t" title="pb_ostream_t"><span class="n"><span class="pre">pb_ostream_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">output</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Dispatcher. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dispatcher_context</strong> – <strong>[in]</strong> Context for the dispatcher </p></li>
<li><p><strong>input</strong> – <strong>[in]</strong> Input stream </p></li>
<li><p><strong>out</strong> – <strong>[in]</strong> Output stream </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv429handle_request_payload_args_t">
<span id="_CPPv329handle_request_payload_args_t"></span><span id="_CPPv229handle_request_payload_args_t"></span><span id="handle_request_payload_args_t"></span><span class="target" id="structhandle__request__payload__args__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">handle_request_payload_args_t</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;nxp_iot_agent_dispatcher.h&gt;</em></div>
<p>Context structure for passing dispatcher information to callbacks for message decoding. </p>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv430iot_agent_dispatcher_context_t">
<span id="_CPPv330iot_agent_dispatcher_context_t"></span><span id="_CPPv230iot_agent_dispatcher_context_t"></span><span id="iot_agent_dispatcher_context_t"></span><span class="target" id="structiot__agent__dispatcher__context__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_dispatcher_context_t</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv438iot_agent_endpoint_cache_table_entry_t">
<span id="_CPPv338iot_agent_endpoint_cache_table_entry_t"></span><span id="_CPPv238iot_agent_endpoint_cache_table_entry_t"></span><span id="iot_agent_endpoint_cache_table_entry_t"></span><span class="target" id="structiot__agent__endpoint__cache__table__entry__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_endpoint_cache_table_entry_t</span></span></span><br /></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="edgelock-2go-utils">
<h2><span class="section-number">6.7.7. </span>EdgeLock 2GO Utils<a class="headerlink" href="#edgelock-2go-utils" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__edgelock2go__agent__utils"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">edgelock2go_agent_utils</span></span></dt>
<dd><p>Utility functions for the EdgeLock 2GO agent for writing and generating key references and certificates. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.NXP_IOT_AGENT_EDGELOCK2GO_CLIENT_CERTIFICATE_BUFFER_SIZE">
<span class="target" id="group__edgelock2go__agent__utils_1ga891bd068ed21a99d8b10db0d2321e8f1"></span><span class="sig-name descname"><span class="n"><span class="pre">NXP_IOT_AGENT_EDGELOCK2GO_CLIENT_CERTIFICATE_BUFFER_SIZE</span></span></span><br /></dt>
<dd><p>The size of the buffer to reserve for the EdgeLock 2GO cloud service client certificate. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432iot_agent_get_first_found_objectP20iot_agent_keystore_tP8uint32_t6size_tP8uint32_t">
<span id="_CPPv332iot_agent_get_first_found_objectP20iot_agent_keystore_tP8uint32_t6size_tP8uint32_t"></span><span id="_CPPv232iot_agent_get_first_found_objectP20iot_agent_keystore_tP8uint32_t6size_tP8uint32_t"></span><span id="iot_agent_get_first_found_object__iot_agent_keystore_tP.uint32_tP.s.uint32_tP"></span><span class="target" id="group__edgelock2go__agent__utils_1gad6132c72f2517c003d8eaf7b5808d79a"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_get_first_found_object</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">object_ids</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">num_objects</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">object_id</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Maps a given service id to the range of keys that are managed by the EdgeLock 2GO cloud service. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keystore</strong> – <strong>[in]</strong> The input keystore </p></li>
<li><p><strong>object_ids</strong> – <strong>[in]</strong> The list of object IDs </p></li>
<li><p><strong>num_objects</strong> – <strong>[in]</strong> The number of objects </p></li>
<li><p><strong>object_id</strong> – <strong>[out]</strong> The output object id</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv433iot_agent_keystore_file_existencePKcb">
<span id="_CPPv333iot_agent_keystore_file_existencePKcb"></span><span id="_CPPv233iot_agent_keystore_file_existencePKcb"></span><span id="iot_agent_keystore_file_existence__cCP.b"></span><span class="target" id="group__edgelock2go__agent__utils_1ga8ee7205106121217123a0978b38b8727"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_keystore_file_existence</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filename</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">forceCreation</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks existence of a file. If required it forces creation of file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – <strong>[in]</strong> Name of the file </p></li>
<li><p><strong>forceCreation</strong> – <strong>[in]</strong> Switch to force creation of the file</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423iot_agent_pad_iso7816d4P7uint8_t6size_t6size_t6size_tP6size_t">
<span id="_CPPv323iot_agent_pad_iso7816d4P7uint8_t6size_t6size_t6size_tP6size_t"></span><span id="_CPPv223iot_agent_pad_iso7816d4P7uint8_t6size_t6size_t6size_tP6size_t"></span><span id="iot_agent_pad_iso7816d4__uint8_tP.s.s.s.sP"></span><span class="target" id="group__edgelock2go__agent__utils_1gaa505b8b09648f63a988fb792f9af349a"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_pad_iso7816d4</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">data_size</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unpadded_length</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">blocksize</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">padded_length</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Append padding bytes to a given message. </p>
<p>Padding is done in-place, meaning the data buffer has to be big enough to hold also the padding bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – <strong>[inout]</strong> Buffer to be unpad </p></li>
<li><p><strong>data_size</strong> – <strong>[in]</strong> The length of the buffer </p></li>
<li><p><strong>unpadded_length</strong> – <strong>[in]</strong> The length of the unpadded part </p></li>
<li><p><strong>blocksize</strong> – <strong>[in]</strong> Size of the block </p></li>
<li><p><strong>padded_length</strong> – <strong>[inout]</strong> The length of the padded part</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv447iot_agent_utils_configure_edgelock2go_datastoreP20iot_agent_keystore_tP21iot_agent_datastore_tiA_PKc">
<span id="_CPPv347iot_agent_utils_configure_edgelock2go_datastoreP20iot_agent_keystore_tP21iot_agent_datastore_tiA_PKc"></span><span id="_CPPv247iot_agent_utils_configure_edgelock2go_datastoreP20iot_agent_keystore_tP21iot_agent_datastore_tiA_PKc"></span><span id="iot_agent_utils_configure_edgelock2go_datastore__iot_agent_keystore_tP.iot_agent_datastore_tP.i.cCPA"></span><span class="target" id="group__edgelock2go__agent__utils_1ga2b92525373c53944267fb064a3b856f7"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_configure_edgelock2go_datastore</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span>, <a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">argc</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">argv</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv447iot_agent_utils_configure_edgelock2go_datastoreP20iot_agent_keystore_tP21iot_agent_datastore_tiA_PKc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Assemble a service descriptor for the connection to EdgeLock 2GO cloud service and write it to a datastore. </p>
<p>The function gets the EDGELOCK2GO_HOSTNAME and EDGELOCK2GO_PORT from different inputs respecting the following priority order:<ul class="simple">
<li><p>Command line arguments</p></li>
<li><p>Environment variables</p></li>
<li><p>Existing valid datastore file</p></li>
<li><p>Macro defines</p></li>
</ul>
</p>
<p>Both hostname and port must be provided on the input that the function is configure it from there</p>
<p>It is assumed that credentials (either ECC or RSA) for client certificate</p>
<p>authentication are stored in <code class="docutils literal notranslate"><span class="pre">keystore</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keystore</strong> – <strong>[in]</strong> The input keystore </p></li>
<li><p><strong>datastore</strong> – <strong>[out]</strong> The datastore where to write </p></li>
<li><p><strong>argc</strong> – <strong>[in]</strong> Number of arguments </p></li>
<li><p><strong>argv</strong> – <strong>[in]</strong> Argument array</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv438iot_agent_utils_convert_service2key_id8uint64_tP8uint32_t">
<span id="_CPPv338iot_agent_utils_convert_service2key_id8uint64_tP8uint32_t"></span><span id="_CPPv238iot_agent_utils_convert_service2key_id8uint64_tP8uint32_t"></span><span id="iot_agent_utils_convert_service2key_id__uint64_t.uint32_tP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga6d2ed26ce6f8c9a54afc3903c207460f"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_convert_service2key_id</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">service_id</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">key_id_ptr</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Converts the service ID to key id. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>service_id</strong> – <strong>[in]</strong> Service ID &#64; param[out] key_id_ptr Key ID</p>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv458iot_agent_utils_create_self_signed_edgelock2go_certificateP20iot_agent_keystore_tP7uint8_tP6size_t">
<span id="_CPPv358iot_agent_utils_create_self_signed_edgelock2go_certificateP20iot_agent_keystore_tP7uint8_tP6size_t"></span><span id="_CPPv258iot_agent_utils_create_self_signed_edgelock2go_certificateP20iot_agent_keystore_tP7uint8_tP6size_t"></span><span id="iot_agent_utils_create_self_signed_edgelock2go_certificate__iot_agent_keystore_tP.uint8_tP.sP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga7de2305f1c5efb26a9901d9e45f0204b"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_create_self_signed_edgelock2go_certificate</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">certificate_buffer</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">certificate_buffer_size</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Creates a self signed certificate. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keystore</strong> – <strong>[in]</strong> The input keystore </p></li>
<li><p><strong>certificate_buffer</strong> – <strong>[out]</strong> Buffer including the certificate </p></li>
<li><p><strong>certificate_buffer_size</strong> – <strong>[inout]</strong> the length of the certificate</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427iot_agent_utils_gen_key_refPK20iot_agent_keystore_t8uint32_tP28iot_agent_keystore_key_ref_t">
<span id="_CPPv327iot_agent_utils_gen_key_refPK20iot_agent_keystore_t8uint32_tP28iot_agent_keystore_key_ref_t"></span><span id="_CPPv227iot_agent_utils_gen_key_refPK20iot_agent_keystore_t8uint32_tP28iot_agent_keystore_key_ref_t"></span><span id="iot_agent_utils_gen_key_ref__iot_agent_keystore_tCP.uint32_t.iot_agent_keystore_key_ref_tP"></span><span class="target" id="group__edgelock2go__agent__utils_1gaf51b671286568ada3c80300a72c679ed"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_gen_key_ref</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">key_id</span></span>, <a class="reference internal" href="../../api/structiot__agent__keystore__key__ref__t.html#_CPPv428iot_agent_keystore_key_ref_t" title="iot_agent_keystore_key_ref_t"><span class="n"><span class="pre">iot_agent_keystore_key_ref_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">gen_key_ref</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates the key reference. The function is used when OpenSSL crypto is selected to generate the Open SSL key reference using the key stored in the keystore. The key reference provided as output depends on the used OpenSSL varsion. </p>
<p><ul class="simple">
<li><p>Version &lt; 3.x.x: EVP_PKEY</p></li>
<li><p>Version &gt;= 3.x.x: OSSL_PARAM</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keystore</strong> – <strong>[in]</strong> The input keystore </p></li>
<li><p><strong>key_id</strong> – <strong>[in]</strong> ID of the key </p></li>
<li><p><strong>gen_key_ref</strong> – <strong>[out]</strong> The generated key reference</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv443iot_agent_utils_get_certificate_common_nameP19iot_agent_context_tPK25nxp_iot_ServiceDescriptorPc6size_t">
<span id="_CPPv343iot_agent_utils_get_certificate_common_nameP19iot_agent_context_tPK25nxp_iot_ServiceDescriptorPc6size_t"></span><span id="_CPPv243iot_agent_utils_get_certificate_common_nameP19iot_agent_context_tPK25nxp_iot_ServiceDescriptorPc6size_t"></span><span id="iot_agent_utils_get_certificate_common_name__iot_agent_context_tP.nxp_iot_ServiceDescriptorCP.cP.s"></span><span class="target" id="group__edgelock2go__agent__utils_1ga7877959ebd4c57c220109c802fc2285a"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_get_certificate_common_name</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">common_name</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">max_size</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Gets the common name from the client certificte. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[in]</strong> Descriptor with service data </p></li>
<li><p><strong>common_name</strong> – <strong>[inout]</strong> Common name string </p></li>
<li><p><strong>max_size</strong> – <strong>[in]</strong> Maximum size</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv445iot_agent_utils_get_certificate_from_keystoreP20iot_agent_keystore_t8uint32_tP7uint8_tP6size_t">
<span id="_CPPv345iot_agent_utils_get_certificate_from_keystoreP20iot_agent_keystore_t8uint32_tP7uint8_tP6size_t"></span><span id="_CPPv245iot_agent_utils_get_certificate_from_keystoreP20iot_agent_keystore_t8uint32_tP7uint8_tP6size_t"></span><span id="iot_agent_utils_get_certificate_from_keystore__iot_agent_keystore_tP.uint32_t.uint8_tP.sP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga843a69a2e246ae77fb9bb0b1fe192e4e"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_get_certificate_from_keystore</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">certificate_id</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cert</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cert_len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Read a certificate from a keystore. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keystore</strong> – <strong>[in]</strong> The input keystore </p></li>
<li><p><strong>certificate_id</strong> – <strong>[in]</strong> ID of the certificate </p></li>
<li><p><strong>cert</strong> – <strong>[out]</strong> Buffer including the certificate </p></li>
<li><p><strong>cert_len</strong> – <strong>[inout]</strong> the length of the certificate</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429iot_agent_utils_get_device_idP7uint8_tP6size_t">
<span id="_CPPv329iot_agent_utils_get_device_idP7uint8_tP6size_t"></span><span id="_CPPv229iot_agent_utils_get_device_idP7uint8_tP6size_t"></span><span id="iot_agent_utils_get_device_id__uint8_tP.sP"></span><span class="target" id="group__edgelock2go__agent__utils_1gafd7b5922fc37eb932fa385c2fc731aa8"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_get_device_id</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buffer</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Retrieve the UID of a device. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buffer</strong> – <strong>[out]</strong> The buffer including the UUID </p></li>
<li><p><strong>len</strong> – <strong>[inout]</strong> The length of the buffer</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv446iot_agent_utils_get_edgelock2go_certificate_idP20iot_agent_keystore_tP8uint32_t">
<span id="_CPPv346iot_agent_utils_get_edgelock2go_certificate_idP20iot_agent_keystore_tP8uint32_t"></span><span id="_CPPv246iot_agent_utils_get_edgelock2go_certificate_idP20iot_agent_keystore_tP8uint32_t"></span><span id="iot_agent_utils_get_edgelock2go_certificate_id__iot_agent_keystore_tP.uint32_tP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga1957de1fe965582089442421aed163a4"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_get_edgelock2go_certificate_id</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">object_id</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks whether a keystore contains the object with the defined certificate to use for authenticating at the EdgeLock 2GO cloud service. </p>
<p>The keystore might contain keys using ECC and/or RSA. If available, it will return the object id of the ECC certificate, otherwise the object id of the RSA certificate.</p>
<p>When neither is found or in case of other issues with the keystore, the function does not return IOT_AGENT_SUCCESS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keystore</strong> – <strong>[in]</strong> The input keystore </p></li>
<li><p><strong>object_id</strong> – <strong>[out]</strong> ID of the certificate</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv438iot_agent_utils_get_edgelock2go_key_idP20iot_agent_keystore_tP8uint32_t">
<span id="_CPPv338iot_agent_utils_get_edgelock2go_key_idP20iot_agent_keystore_tP8uint32_t"></span><span id="_CPPv238iot_agent_utils_get_edgelock2go_key_idP20iot_agent_keystore_tP8uint32_t"></span><span id="iot_agent_utils_get_edgelock2go_key_id__iot_agent_keystore_tP.uint32_tP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga5560bab52396b55a4e0c1a75fa49890f"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_get_edgelock2go_key_id</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">object_id</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks whether a keystore contains the object with the defined key to use for authenticating at the EdgeLock 2GO cloud service. </p>
<p>The keystore might contain keys using ECC and/or RSA. If available, it will return the object id of the ECC key, otherwise the object id of the RSA key.</p>
<p>When neither is found or in case of other issues with the keystore, the function does not return IOT_AGENT_SUCCESS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keystore</strong> – <strong>[in]</strong> The input keystore </p></li>
<li><p><strong>object_id</strong> – <strong>[out]</strong> ID of the key</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv452iot_agent_utils_get_keystore_from_service_descriptorPK19iot_agent_context_tPK25nxp_iot_ServiceDescriptorPP20iot_agent_keystore_t">
<span id="_CPPv352iot_agent_utils_get_keystore_from_service_descriptorPK19iot_agent_context_tPK25nxp_iot_ServiceDescriptorPP20iot_agent_keystore_t"></span><span id="_CPPv252iot_agent_utils_get_keystore_from_service_descriptorPK19iot_agent_context_tPK25nxp_iot_ServiceDescriptorPP20iot_agent_keystore_t"></span><span id="iot_agent_utils_get_keystore_from_service_descriptor__iot_agent_context_tCP.nxp_iot_ServiceDescriptorCP.iot_agent_keystore_tPP"></span><span class="target" id="group__edgelock2go__agent__utils_1gab7bb71450e9f73f5762d7f51f9a2159c"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_get_keystore_from_service_descriptor</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span>, <a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Gets the keystore from service descriptor. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Agent context </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[in]</strong> Input service descriptor </p></li>
<li><p><strong>keystore</strong> – <strong>[out]</strong> The output keystore</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv437iot_agent_utils_write_certificate_pemP7uint8_t6size_tPKc">
<span id="_CPPv337iot_agent_utils_write_certificate_pemP7uint8_t6size_tPKc"></span><span id="_CPPv237iot_agent_utils_write_certificate_pemP7uint8_t6size_tPKc"></span><span id="iot_agent_utils_write_certificate_pem__uint8_tP.s.cCP"></span><span class="target" id="group__edgelock2go__agent__utils_1gafa150593b1b0143cad77d5769b5df5e0"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_write_certificate_pem</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buffer</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filename</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a PEM file containing a certificate chain. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buffer</strong> – <strong>[in]</strong> Buffer containing the encoded certificate </p></li>
<li><p><strong>len</strong> – <strong>[in]</strong> length of the buffer </p></li>
<li><p><strong>filename</strong> – <strong>[in]</strong> Name of the PEM file to be created</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_ERROR_CRYPTO_ENGINE_FAILED</strong> – upon crypto operation failure </p></li>
<li><p><strong>IOT_AGENT_ERROR_FILE_SYSTEM</strong> – upon failure while creating or writing certificate file </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv450iot_agent_utils_write_certificate_pem_cos_over_rtpP19iot_agent_context_tPK25nxp_iot_ServiceDescriptorPKc">
<span id="_CPPv350iot_agent_utils_write_certificate_pem_cos_over_rtpP19iot_agent_context_tPK25nxp_iot_ServiceDescriptorPKc"></span><span id="_CPPv250iot_agent_utils_write_certificate_pem_cos_over_rtpP19iot_agent_context_tPK25nxp_iot_ServiceDescriptorPKc"></span><span id="iot_agent_utils_write_certificate_pem_cos_over_rtp__iot_agent_context_tP.nxp_iot_ServiceDescriptorCP.cCP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga028247cd3035f9fe8567cfcb8c8daa54"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_write_certificate_pem_cos_over_rtp</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">nxp_iot_ServiceDescriptor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">service_descriptor</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filename</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a PEM file containing service certificate stored in keystore. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent </p></li>
<li><p><strong>service_descriptor</strong> – <strong>[in]</strong> Descriptor with service data </p></li>
<li><p><strong>filename</strong> – <strong>[in]</strong> Name of the PEM file to be created</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv451iot_agent_utils_write_certificate_pem_from_keystoreP20iot_agent_keystore_tK8uint32_tPKc">
<span id="_CPPv351iot_agent_utils_write_certificate_pem_from_keystoreP20iot_agent_keystore_tK8uint32_tPKc"></span><span id="_CPPv251iot_agent_utils_write_certificate_pem_from_keystoreP20iot_agent_keystore_tK8uint32_tPKc"></span><span id="iot_agent_utils_write_certificate_pem_from_keystore__iot_agent_keystore_tP.uint32_tC.cCP"></span><span class="target" id="group__edgelock2go__agent__utils_1gab1273fd01478be0cbf66396d244b256f"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_write_certificate_pem_from_keystore</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keyStore</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">certid</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filename</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a PEM file containing a certificate. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keyStore</strong> – <strong>[in]</strong> Key store context </p></li>
<li><p><strong>certid</strong> – <strong>[in]</strong> Certificate id </p></li>
<li><p><strong>filename</strong> – <strong>[in]</strong> Name of the PEM file to be created</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_ERROR_CRYPTO_ENGINE_FAILED</strong> – upon crypto operation failure </p></li>
<li><p><strong>IOT_AGENT_ERROR_FILE_SYSTEM</strong> – upon failure while creating or writing certificate file </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv443iot_agent_utils_write_edgelock2go_datastoreP20iot_agent_keystore_tP21iot_agent_datastore_tPKc8uint32_tPK16pb_bytes_array_tPK16pb_bytes_array_t">
<span id="_CPPv343iot_agent_utils_write_edgelock2go_datastoreP20iot_agent_keystore_tP21iot_agent_datastore_tPKc8uint32_tPK16pb_bytes_array_tPK16pb_bytes_array_t"></span><span id="_CPPv243iot_agent_utils_write_edgelock2go_datastoreP20iot_agent_keystore_tP21iot_agent_datastore_tPKc8uint32_tPK16pb_bytes_array_tPK16pb_bytes_array_t"></span><span id="iot_agent_utils_write_edgelock2go_datastore__iot_agent_keystore_tP.iot_agent_datastore_tP.cCP.uint32_t.pb_bytes_array_tCP.pb_bytes_array_tCP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga2c376e173d6fd5ecec4044c71b83c3db"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_write_edgelock2go_datastore</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keystore</span></span>, <a class="reference internal" href="../../api/structiot__agent__datastore__t.html#_CPPv421iot_agent_datastore_t" title="iot_agent_datastore_t"><span class="n"><span class="pre">iot_agent_datastore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">datastore</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">hostname</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">port</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">pb_bytes_array_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">trusted_root_ca_certificates</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">pb_bytes_array_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client_certificate</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Assemble a service descriptor for the connection to EdgeLock 2GO cloud service and write it to a datastore. </p>
<p>It is assumed that keys (either ECC or RSA) for authentication are stored in <code class="docutils literal notranslate"><span class="pre">keystore</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">client_certificate</span></code> is NULL, it is assumed that the client certificate is stored in <code class="docutils literal notranslate"><span class="pre">keystore</span></code> as well - in this case the resulting datastore contents will contain a reference to the certificate.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">client_certificate</span></code> is not NULL, it shall point to a client certificate, which will be copied into the service descriptor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keystore</strong> – <strong>[in]</strong> The input keystore </p></li>
<li><p><strong>datastore</strong> – <strong>[out]</strong> The datastore where to write </p></li>
<li><p><strong>hostname</strong> – <strong>[in]</strong> The hostname URL </p></li>
<li><p><strong>port</strong> – <strong>[in]</strong> The port number </p></li>
<li><p><strong>trusted_root_ca_certificates</strong> – <strong>[in]</strong> Buffer including the root certificates </p></li>
<li><p><strong>client_certificate</strong> – <strong>[in]</strong> Buffer including client certificate</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv433iot_agent_utils_write_key_ref_pemP28iot_agent_keystore_key_ref_tPKc">
<span id="_CPPv333iot_agent_utils_write_key_ref_pemP28iot_agent_keystore_key_ref_tPKc"></span><span id="_CPPv233iot_agent_utils_write_key_ref_pemP28iot_agent_keystore_key_ref_tPKc"></span><span id="iot_agent_utils_write_key_ref_pem__iot_agent_keystore_key_ref_tP.cCP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga95f424b065ae36d6bad57eecc710d234"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_write_key_ref_pem</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__key__ref__t.html#_CPPv428iot_agent_keystore_key_ref_t" title="iot_agent_keystore_key_ref_t"><span class="n"><span class="pre">iot_agent_keystore_key_ref_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">gen_key_ref</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filename</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Writes the key reference to PEM. The function is used when OpenSSL crypto is selected to write the key reference generated by the Open SSL to a file. The key reference provided as input depends on the used OpenSSL varsion. </p>
<p><ul class="simple">
<li><p>Version &lt; 3.x.x: EVP_PKEY</p></li>
<li><p>Version &gt;= 3.x.x: OSSL_PARAM</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gen_key_ref</strong> – <strong>[in]</strong> The key reference to be written </p></li>
<li><p><strong>filename</strong> – <strong>[in]</strong> name of file</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv447iot_agent_utils_write_key_ref_pem_from_keystoreP20iot_agent_keystore_tK8uint32_tPKc">
<span id="_CPPv347iot_agent_utils_write_key_ref_pem_from_keystoreP20iot_agent_keystore_tK8uint32_tPKc"></span><span id="_CPPv247iot_agent_utils_write_key_ref_pem_from_keystoreP20iot_agent_keystore_tK8uint32_tPKc"></span><span id="iot_agent_utils_write_key_ref_pem_from_keystore__iot_agent_keystore_tP.uint32_tC.cCP"></span><span class="target" id="group__edgelock2go__agent__utils_1gac0e202763d6f325ba38785f57a5a31d0"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_write_key_ref_pem_from_keystore</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../api/structiot__agent__keystore__t.html#_CPPv420iot_agent_keystore_t" title="iot_agent_keystore_t"><span class="n"><span class="pre">iot_agent_keystore_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">keyStore</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">keyid</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filename</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a PEM file containing a key. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keyStore</strong> – <strong>[in]</strong> Key store context </p></li>
<li><p><strong>keyid</strong> – <strong>[in]</strong> Key id </p></li>
<li><p><strong>filename</strong> – <strong>[in]</strong> Name of the PEM file to be created</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_ERROR_CRYPTO_ENGINE_FAILED</strong> – upon crypto operation failure </p></li>
<li><p><strong>IOT_AGENT_ERROR_FILE_SYSTEM</strong> – upon failure while creating or writing certificate file </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv441iot_agent_utils_write_key_ref_service_pemPK19iot_agent_context_tPKc">
<span id="_CPPv341iot_agent_utils_write_key_ref_service_pemPK19iot_agent_context_tPKc"></span><span id="_CPPv241iot_agent_utils_write_key_ref_service_pemPK19iot_agent_context_tPKc"></span><span id="iot_agent_utils_write_key_ref_service_pem__iot_agent_context_tCP.cCP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga5e77e68a2213910e82c4b44c0b7286e9"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iot_agent_utils_write_key_ref_service_pem</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../api/typedef_group__edgelock2go__agent__dispatcher_1ga422aa2d462f3d64d43dfdb164b9bb95c.html#_CPPv419iot_agent_context_t" title="iot_agent_context_t"><span class="n"><span class="pre">iot_agent_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filename</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a PEM file containing a key reference to the key of the currently selected service. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context for the iot_agent </p></li>
<li><p><strong>filename</strong> – <strong>[in]</strong> Name of the PEM file to be created</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
<dt class="field-odd">Pre</dt>
<dd class="field-odd"><p>A service needs to be selected before calling this function. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429nxp_iot_agent_unpad_iso7816d4P7uint8_tP6size_t">
<span id="_CPPv329nxp_iot_agent_unpad_iso7816d4P7uint8_tP6size_t"></span><span id="_CPPv229nxp_iot_agent_unpad_iso7816d4P7uint8_tP6size_t"></span><span id="nxp_iot_agent_unpad_iso7816d4__uint8_tP.sP"></span><span class="target" id="group__edgelock2go__agent__utils_1ga63f0d29371403e6f85e9b429038ede65"></span><span class="n"><span class="pre">iot_agent_status_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nxp_iot_agent_unpad_iso7816d4</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data_size</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Updates the length in order to remove padded data. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – <strong>[inout]</strong> Buffer to be unpad </p></li>
<li><p><strong>data_size</strong> – <strong>[inout]</strong> The length of the buffer</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IOT_AGENT_SUCCESS</strong> – upon success </p></li>
<li><p><strong>IOT_AGENT_FAILURE</strong> – upon failure </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018-2020, NXP.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>